import{_ as t,r as c,o as p,c as i,d as a,w as n,e as l,b as s,a as y}from"./app-4f7ad5aa.js";const d={},u=s("h2",{id:"行情示例",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#行情示例","aria-hidden":"true"},"#"),l(" 行情示例")],-1),m=s("h3",{id:"获取行情示例",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#获取行情示例","aria-hidden":"true"},"#"),l(" 获取行情示例")],-1),b=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 用前须知")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"## xtdata提供和MiniQmt的交互接口，本质是和MiniQmt建立连接，由MiniQmt处理行情数据请求，再把结果回传返回到python层。使用的行情服务器以及能获取到的行情数据和MiniQmt是一致的，要检查数据或者切换连接时直接操作MiniQmt即可。")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"## 对于数据获取接口，使用时需要先确保MiniQmt已有所需要的数据，如果不足可以通过补充数据接口补充，再调用数据获取接口获取。")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"## 对于订阅接口，直接设置数据回调，数据到来时会由回调返回。订阅接收到的数据一般会保存下来，同种数据不需要再单独补充。")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 代码讲解")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 从本地python导入xtquant库，如果出现报错则说明安装失败")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 设定一个标的列表")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"code_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"000001.SZ"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 设定获取数据的周期")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"period "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"1d"),s("span",{style:{color:"#E9F284"}},'"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 下载标的行情数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"## 为了方便用户进行数据管理，xtquant的大部分历史数据都是以压缩形式存储在本地的")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"## 比如行情数据，需要通过download_history_data下载，财务数据需要通过")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"## 所以在取历史数据之前，我们需要调用数据下载接口，将数据下载到本地")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," code_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        xtdata.download_history_data(i,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"incrementally"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#BD93F9"}},"True"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 增量下载行情数据（开高低收,等等）到本地")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xtdata.download_financial_data(code_list) "),s("span",{style:{color:"#6272A4"}},"# 下载财务数据到本地")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xtdata.download_sector_data() "),s("span",{style:{color:"#6272A4"}},"# 下载板块数据到本地")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 更多数据的下载方式可以通过数据字典查询")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 读取本地历史行情数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"history_data "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data_ex([],code_list,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(history_data)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"="),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 如果需要盘中的实时行情，需要向服务器进行订阅后才能获取")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 订阅后，get_market_data函数于get_market_data_ex函数将会自动拼接本地历史行情与服务器实时行情")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 向服务器订阅数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," code_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xtdata.subscribe_quote(i,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 设置count = -1来取到当天所有实时行情")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 等待订阅完成")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"time.sleep("),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 获取订阅后的行情")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"kline_data "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data_ex([],code_list,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(kline_data)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 获取订阅后的行情，并以固定间隔进行刷新,预期会循环打印10次")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"range"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9"}},"10"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 这边做演示，就用for来循环了，实际使用中可以用while True")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    kline_data "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data_ex([],code_list,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(kline_data)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    time.sleep("),s("span",{style:{color:"#BD93F9"}},"3"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 三秒后再次获取行情")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 如果不想用固定间隔触发，可以以用订阅后的回调来执行")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 这种模式下当订阅的callback回调函数将会异步的执行，每当订阅的标的tick发生变化更新，callback回调函数就会被调用一次")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 本地已有的数据不会触发callback")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 定义的回测函数")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"## 回调函数中，data是本次触发回调的数据，只有一条")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"f"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"data"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# print(data)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    code_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"list"),s("span",{style:{color:"#F8F8F2"}},"(data.keys())    "),s("span",{style:{color:"#6272A4"}},"# 获取到本次触发的标的代码")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    kline_in_callabck "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data_ex([],code_list,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," period)    "),s("span",{style:{color:"#6272A4"}},"# 在回调中获取klines数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(kline_in_callabck)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," code_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xtdata.subscribe_quote(i,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},","),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"callback"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"f) "),s("span",{style:{color:"#6272A4"}},"# 订阅时设定回调函数")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 使用回调时，必须要同时使用xtdata.run()来阻塞程序，否则程序运行到最后一行就直接结束退出了。")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.run()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),v=s("h3",{id:"链接vip服务器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#链接vip服务器","aria-hidden":"true"},"#"),l(" 链接VIP服务器")],-1),C=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 导入 xtdatacenter 模块")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," sys")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"Python 版本："),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},", sys.version)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," pandas "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," pd")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdatacenter "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," xtdc")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"'''  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"设置用于登录行情服务的token，此接口应该先于 init_quote 调用")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"'''")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdc.set_token("),s("span",{style:{color:"#E9F284"}},"''"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"'''")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"设置连接池,使服务器只在连接池内优选")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"建议将VIP服务器设为连接池")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"'''")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"addr_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," [")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"115.231.218.73:55310"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"115.231.218.79:55310"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"218.16.123.11:55310"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"218.16.123.27:55310"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdc.set_allow_optmize_address(addr_list)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdc.set_kline_mirror_enabled("),s("span",{style:{color:"#BD93F9"}},"True"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 开启K线全推功能(vip),以获取全市场实时K线数据")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"初始化")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdc.init()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"## 监听端口")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"port "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdc.listen("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"port"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"58621"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 指定固定端口进行连接")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# port = xtdc.listen(port = (58620, 58630)) 通过指定port范围，可以让xtdc在范围内自动寻找可用端口")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.connect("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"port"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}},"port)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"-----连接上了------"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(xtdata.data_dir)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"servers "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_quote_server_status()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# print(servers)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," k, v "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," servers.items():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(k, v)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.run()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),_=s("h3",{id:"连接指定服务器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#连接指定服务器","aria-hidden":"true"},"#"),l(" 连接指定服务器")],-1),B=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#用token方式连接，不需要账号密码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#其他连接方式，需要账号密码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"info "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," {"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"ip"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"218.16.123.122"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"port"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#BD93F9"}},"55300"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"username"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#E9F284"}},"''"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"pwd"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#E9F284"}},"''"),s("span",{style:{color:"#F8F8F2"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"connect_success "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"func"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"d"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ip "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," d.get("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"ip"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"''"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    port "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," d.get("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"port"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    status "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," d.get("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"status"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"disconnected"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"global"),s("span",{style:{color:"#F8F8F2"}}," connect_success")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," ip "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," info["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"ip"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"and"),s("span",{style:{color:"#F8F8F2"}}," port "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," info["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"port"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," status "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"connected"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            connect_success "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"else"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            connect_success "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"2")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 注册连接回调信息")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.watch_quote_server_status(func)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 行情连接")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"qs "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.QuoteServer(info)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"qs.connect()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 等待连接状态")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"while"),s("span",{style:{color:"#F8F8F2"}}," connect_success "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    time.sleep("),s("span",{style:{color:"#BD93F9"}},"0.3"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," connect_success "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"2"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"连接失败"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),D=s("h3",{id:"订阅全推数据-下载历史数据",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#订阅全推数据-下载历史数据","aria-hidden":"true"},"#"),l(" 订阅全推数据/下载历史数据")],-1),A=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# coding:utf-8")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"code "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"600000.SH"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#取全推数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"full_tick "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_full_tick([code])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"全推数据 日线最新值"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", full_tick)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#下载历史数据 下载接口本身不返回数据")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.download_history_data(code, "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"1m"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"start_time"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"20230701"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#订阅最新行情")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"callback_func"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"data"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"回调触发"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", data)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.subscribe_quote(code, "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"1m"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"callback"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," callback_func)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"data "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data(["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"close"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"], [code], "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"1m"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"start_time"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"20230701"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"一次性取数据"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", data)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#死循环 阻塞主线程退出")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.run()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),E=s("p",null,null,-1),f=s("h3",{id:"获取对手价",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#获取对手价","aria-hidden":"true"},"#"),l(" 获取对手价")],-1),h=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 以卖出为例")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," pandas "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," pd")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," numpy "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," np")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"to_do_trade_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"000001.SZ"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"tick "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_full_tick(to_do_trade_list)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 取买一价为对手价，若买一价为0，说明已经跌停，则取最新价")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," tick:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    fix_price "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," tick[i]["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"bidPrice"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," tick[i]["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"bidPrice"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"!="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"else"),s("span",{style:{color:"#F8F8F2"}}," tick[i]["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"lastPrice"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(fix_price)")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),x=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#BD93F9"}},"10.01")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),k=s("h3",{id:"获取5档盘口行情",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#获取5档盘口行情","aria-hidden":"true"},"#"),l(" 获取5档盘口行情")],-1),g={class:"custom-container tip"},q=s("p",{class:"custom-container-title"},"提示",-1),w={href:"https://xuntou.net/#/productvip",target:"_blank",rel:"noopener noreferrer"},T=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"symbol_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"rb2405.SF"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},","),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"ec2404.INE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#6272A4"}},"# 五档行情支持上期所，上期能源")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"period "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"l2quote"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#6272A4"}},"# 获取5档盘口tick")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," symbol "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," symbol_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xtdata.subscribe_quote(symbol,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"time.sleep("),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"data "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data_ex(["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"askPrice"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},","),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"bidPrice"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"],symbol_list,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"period"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," period,"),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"count"),s("span",{style:{color:"#FF79C6"}},"=-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(data)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),X=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"{"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"ec2404.INE"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},":                                                          askPrice  \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115085900"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2300.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2300.2"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2304.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2306.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2310.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090000"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2266.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2280.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2280.9"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2285.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2287.9"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2261.6000000000004"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2262.0000000000005"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2262..."),s("span",{style:{color:"#F8F8F2"}},".   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2253.4"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2253.5"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2253.6"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2254.6"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2255.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090002"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2244.6"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2246.6"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2246.7999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2248.8999..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"                                                           "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2138.3"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2138.6000000000004"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2138.700000000000..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2138.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2138.3"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2138.6000000000004"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2138.7000..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.7999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137.8999999999996"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137..."),s("span",{style:{color:"#F8F8F2"}},".   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.2999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137.7999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137..."),s("span",{style:{color:"#F8F8F2"}},".   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2136.4"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137.7999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2137.8999..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"                                                          bidPrice  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115085900"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2288.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2280.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2266.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2265.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2262.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090000"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2222.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2222.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2220.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2219.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2216.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2227.0000000000005"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2226.8000000000006"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2226..."),s("span",{style:{color:"#F8F8F2"}},".  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2230.2000000000003"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2230.0000000000005"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2229..."),s("span",{style:{color:"#F8F8F2"}},".  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115090002"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2233.2000000000003"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2223.4"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2222.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2220.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"                                                           "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2135.2999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2134.999999999999..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2135.2999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2134.999999999999..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2135.2999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2134.999999999999..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2137.1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2135.2999999999997"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2134.999999999999..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"2135.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2134.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2132.4"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2132.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"2131.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#BD93F9"}},"15942"),s("span",{style:{color:"#F8F8F2"}}," rows x "),s("span",{style:{color:"#BD93F9"}},"2"),s("span",{style:{color:"#F8F8F2"}}," columns],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"rb2405.SF"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},":                                                          askPrice  \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112205900"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210000"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3904.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3905.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3905.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3905.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210002"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3905.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"                                                           "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3911.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3912.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3913.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3914.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3915.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3911.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3912.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3913.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3914.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3915.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3911.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3912.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3913.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3914.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3915.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3911.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3912.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3913.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3914.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3915.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3911.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3912.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3913.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3914.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3915.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"                                                          bidPrice  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112205900"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3905.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3904.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3903.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3902.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3901.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210000"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3903.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3902.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3901.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3900.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3899.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3904.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3903.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3902.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3901.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3900.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210001"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3904.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3903.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3902.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3901.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3900.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240112210002"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3904.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3903.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3902.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3901.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3900.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"                                                           "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140227"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140228"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"20240115140229"),s("span",{style:{color:"#F8F8F2"}},"  ["),s("span",{style:{color:"#BD93F9"}},"3910.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3909.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3908.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3907.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"3906.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"0.0"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"..."),s("span",{style:{color:"#F8F8F2"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#BD93F9"}},"35329"),s("span",{style:{color:"#F8F8F2"}}," rows x "),s("span",{style:{color:"#BD93F9"}},"2"),s("span",{style:{color:"#F8F8F2"}}," columns]}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),S=s("h3",{id:"复权计算方式",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#复权计算方式","aria-hidden":"true"},"#"),l(" 复权计算方式")],-1),I=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#coding:utf-8")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," numpy "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," np")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," pandas "),s("span",{style:{color:"#FF79C6"}},"as"),s("span",{style:{color:"#F8F8F2"}}," pd")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#def gen_divid_ratio(quote_datas, divid_datas):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#    drl = []")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#    for qi in range(len(quote_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#        q = quote_datas.iloc[qi]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#        dr = 1.0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#        for di in range(len(divid_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#            d = divid_datas.iloc[di]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#            if d.name <= q.name:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#                dr *= d['dr']")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#        drl.append(dr)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#    return pd.DataFrame(drl, index = quote_datas.index, columns = quote_datas.columns)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"gen_divid_ratio"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"quote_datas"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"divid_datas"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    drl "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," []")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    dr "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1.0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    qi "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    qdl "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(quote_datas)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    di "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ddl "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(divid_datas)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"while"),s("span",{style:{color:"#F8F8F2"}}," qi "),s("span",{style:{color:"#FF79C6"}},"<"),s("span",{style:{color:"#F8F8F2"}}," qdl "),s("span",{style:{color:"#FF79C6"}},"and"),s("span",{style:{color:"#F8F8F2"}}," di "),s("span",{style:{color:"#FF79C6"}},"<"),s("span",{style:{color:"#F8F8F2"}}," ddl:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        qd "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas.iloc[qi]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        dd "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," divid_datas.iloc[di]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," qd.name "),s("span",{style:{color:"#FF79C6"}},">="),s("span",{style:{color:"#F8F8F2"}}," dd.name:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            dr "),s("span",{style:{color:"#FF79C6"}},"*="),s("span",{style:{color:"#F8F8F2"}}," dd["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"dr"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            di "),s("span",{style:{color:"#FF79C6"}},"+="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," qd.name "),s("span",{style:{color:"#FF79C6"}},"<="),s("span",{style:{color:"#F8F8F2"}}," dd.name:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            drl.append(dr)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            qi "),s("span",{style:{color:"#FF79C6"}},"+="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"while"),s("span",{style:{color:"#F8F8F2"}}," qi "),s("span",{style:{color:"#FF79C6"}},"<"),s("span",{style:{color:"#F8F8F2"}}," qdl:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        drl.append(dr)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        qi "),s("span",{style:{color:"#FF79C6"}},"+="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," pd.DataFrame(drl, "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"index"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas.index, "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"columns"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas.columns)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"process_forward_ratio"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"quote_datas"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"divid_datas"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    drl "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," gen_divid_ratio(quote_datas, divid_datas)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    drlf "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," drl "),s("span",{style:{color:"#FF79C6"}},"/"),s("span",{style:{color:"#F8F8F2"}}," drl.iloc["),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," (quote_datas "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," drlf).apply("),s("span",{style:{color:"#FF79C6"}},"lambda"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"x"),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#8BE9FD"}},"round"),s("span",{style:{color:"#F8F8F2"}},"(x, "),s("span",{style:{color:"#BD93F9"}},"2"),s("span",{style:{color:"#F8F8F2"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," result")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"process_backward_ratio"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"quote_datas"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"divid_datas"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    drl "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," gen_divid_ratio(quote_datas, divid_datas)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," (quote_datas "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," drl).apply("),s("span",{style:{color:"#FF79C6"}},"lambda"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"x"),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#8BE9FD"}},"round"),s("span",{style:{color:"#F8F8F2"}},"(x, "),s("span",{style:{color:"#BD93F9"}},"2"),s("span",{style:{color:"#F8F8F2"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," result")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"process_forward"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"quote_datas1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"divid_datas"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    quote_datas "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas1.copy()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"calc_front"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"v"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"d"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"round"),s("span",{style:{color:"#F8F8F2"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            (v "),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"interest"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotPrice"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotNum"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"/"),s("span",{style:{color:"#F8F8F2"}}," ("),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotNum"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"stockBonus"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"stockGift"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            , "),s("span",{style:{color:"#BD93F9"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        )")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," qi "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"range"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(quote_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        q "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas.iloc[qi]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," di "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"range"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(divid_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            d "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," divid_datas.iloc[di]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," d.name "),s("span",{style:{color:"#FF79C6"}},"<="),s("span",{style:{color:"#F8F8F2"}}," q.name:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"                "),s("span",{style:{color:"#FF79C6"}},"continue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            q.iloc["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," calc_front(q.iloc["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"], d)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," quote_datas")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"process_backward"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"quote_datas1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"divid_datas"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    quote_datas "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas1.copy()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"calc_front"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"v"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"d"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"round"),s("span",{style:{color:"#F8F8F2"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            (v "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," ("),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"stockGift"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"stockBonus"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotNum"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"interest"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotNum"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"*"),s("span",{style:{color:"#F8F8F2"}}," d["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"allotPrice"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            , "),s("span",{style:{color:"#BD93F9"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        )")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," qi "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"range"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(quote_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        q "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," quote_datas.iloc[qi]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," di "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"range"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(divid_datas)):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            d "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," divid_datas.iloc[di]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," d.name "),s("span",{style:{color:"#FF79C6"}},">"),s("span",{style:{color:"#F8F8F2"}}," q.name:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"                "),s("span",{style:{color:"#FF79C6"}},"continue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            q.iloc["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," calc_front(q.iloc["),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},"], d)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," quote_datas")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#--------------------------------")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"s "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"002594.SZ"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#xtdata.download_history_data(s, '1d', '20100101', '')")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"dd "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_divid_factors(s)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(dd)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#复权计算用于处理价格字段")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"field_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," ["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"open"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"high"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"low"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"close"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"datas_ori "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_market_data(field_list, [s], "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"1d"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"dividend_type"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"none"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"close"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"].T")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#print(datas_ori)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#等比前复权")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"datas_forward_ratio "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," process_forward_ratio(datas_ori, dd)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"datas_forward_ratio"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", datas_forward_ratio)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#等比后复权")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"datas_backward_ratio "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," process_backward_ratio(datas_ori, dd)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"datas_backward_ratio"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", datas_backward_ratio)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#前复权")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"datas_forward "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," process_forward(datas_ori, dd)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"datas_forward"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", datas_forward)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#后复权")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"datas_backward "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," process_backward(datas_ori, dd)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"datas_backward"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", datas_backward)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Q=s("p",null,null,-1),N=s("h3",{id:"根据商品期货期权代码获取对应的商品期货合约代码",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#根据商品期货期权代码获取对应的商品期货合约代码","aria-hidden":"true"},"#"),l(" 根据商品期货期权代码获取对应的商品期货合约代码")],-1),P=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"get_option_underline_code"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"code"),s("span",{style:{color:"#FF79C6"}},":"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#FF79C6"}},"->"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    注意：该函数不适用于股指期货期权与ETF期权")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    Todo: 根据商品期权代码获取对应的具体商品期货合约")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    Args:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        code:str 期权代码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    Return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        对应的期货合约代码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'    """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    Exchange_dict "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"SHFE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"SF"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"CZCE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"ZF"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"DCE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"DF"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"INE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"INE"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"GFEX"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"GF"),s("span",{style:{color:"#E9F284"}},'"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," code.split("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"."),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")["),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"not"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," [v "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," k,v "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," Exchange_dict.items()]:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"raise"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"KeyError"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"此函数不支持该交易所合约"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    info "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_option_detail_data(code)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    underline_code "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," info["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"OptUndlCode"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"."),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," Exchange_dict[info["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"OptUndlMarket"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]]")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," underline_code")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"__name__"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"__main__"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    symbol_code "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," get_option_underline_code("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"sc2403C465.INE"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#6272A4"}},"# 获取期权合约'sc2403C465.INE'对应的期货合约代码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(symbol_code)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),O=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"sc2403.INE"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),M=s("p",null,null,-1),R=s("h3",{id:"根据指数代码-返回对应的期货合约",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#根据指数代码-返回对应的期货合约","aria-hidden":"true"},"#"),l(" 根据指数代码，返回对应的期货合约")],-1),G=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," re")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"get_financial_futures_code_from_index"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"index_code"),s("span",{style:{color:"#FF79C6"}},":"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#FF79C6"}},"->"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"list"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    ToDo:传入指数代码，返回对应的期货合约（当前）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    Args:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        index_code:指数代码，如"000300.SH","000905.SH"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"    Retuen:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        list: 对应期货合约列表")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'    """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    financial_futures "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_stock_list_in_sector("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"中金所"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    future_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," []")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    pattern "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"r"),s("span",{style:{color:"#FF5555"}},"'"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"^"),s("span",{style:{color:"#BD93F9"}},"[a-zA-Z]"),s("span",{style:{color:"#FF79C6"}},"{1,2}"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"\\d"),s("span",{style:{color:"#FF79C6"}},"{3,4}\\."),s("span",{style:{color:"#BD93F9"}},"[A-Z]"),s("span",{style:{color:"#FF79C6"}},"{2}"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"$"),s("span",{style:{color:"#FF5555"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," financial_futures:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," re.match(pattern,i):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            future_list.append(i)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ls "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," []")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," i "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," future_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        _info "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata._get_instrument_detail(i)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        _index_code "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," _info["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"ExtendInfo"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"OptUndlCode"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"] "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"."),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"+"),s("span",{style:{color:"#F8F8F2"}}," _info["),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"ExtendInfo"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},"]["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"OptUndlMarket"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," _index_code "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," index_code:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            ls.append(i)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," ls")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"__name__"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"__main__"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ls "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," get_financial_futures_code_from_index("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"000905.SH"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(ls)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),H=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"IC2402.IF"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"IC2403.IF"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"IC2406.IF"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"IC2409.IF"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),Z=y('<h2 id="交易示例" tabindex="-1"><a class="header-anchor" href="#交易示例" aria-hidden="true">#</a> 交易示例</h2><h3 id="order-stock-async-下单" tabindex="-1"><a class="header-anchor" href="#order-stock-async-下单" aria-hidden="true">#</a> order_stock_async - 下单</h3><p>本示例用于展示如何订阅上海及深圳市场全推，对于沪深A股品种策略进行判断当前涨幅超过 9 个点的买入 200 股</p><p><strong>需要调整的参数：</strong></p><ul><li><code>111</code>行的<code>path</code>变量需要改为本地客户端路径</li><li><code>116</code>行的资金账号需要调整为自身资金账号</li></ul><div class="custom-container warning"><p class="custom-container-title">注意</p><p>本策略只用于提供策略写法及参考，若您直接进行实盘下单，造成损失本网站不负担责任。</p></div>',6),V=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#coding:utf-8")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time, datetime, traceback, sys")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtdata")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttrader "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader, XtQuantTraderCallback")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttype "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," StockAccount")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtconstant")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#定义一个类 创建类的实例 作为状态的容器")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"class"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"_a"),s("span",{style:{color:"#F8F8F2"}},"():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"pass")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"A "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," _a()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"A.bought_list "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," []")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"A.hsa "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xtdata.get_stock_list_in_sector("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"沪深A股"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"interact"),s("span",{style:{color:"#F8F8F2"}},"():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},'"""执行后进入repl模式"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," code")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    code.InteractiveConsole("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"locals"),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#8BE9FD"}},"globals"),s("span",{style:{color:"#F8F8F2"}},"()).interact()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xtdata.download_sector_data()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"f"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"data"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    now "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," datetime.datetime.now()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"for"),s("span",{style:{color:"#F8F8F2"}}," stock "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," data:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," stock "),s("span",{style:{color:"#FF79C6"}},"not"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," A.hsa:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"continue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        cuurent_price "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," data[stock]["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"lastPrice"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        pre_price "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," data[stock]["),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"lastClose"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        ratio "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," cuurent_price "),s("span",{style:{color:"#FF79C6"}},"/"),s("span",{style:{color:"#F8F8F2"}}," pre_price "),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," pre_price "),s("span",{style:{color:"#FF79C6"}},">"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"else"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," ratio "),s("span",{style:{color:"#FF79C6"}},">"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0.09"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"and"),s("span",{style:{color:"#F8F8F2"}}," stock "),s("span",{style:{color:"#FF79C6"}},"not"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"in"),s("span",{style:{color:"#F8F8F2"}}," A.bought_list:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FF79C6"}},"f"),s("span",{style:{color:"#F1FA8C"}},'"'),s("span",{style:{color:"#BD93F9"}},"{"),s("span",{style:{color:"#F8F8F2"}},"now"),s("span",{style:{color:"#BD93F9"}},"}"),s("span",{style:{color:"#F1FA8C"}}," 最新价 买入 "),s("span",{style:{color:"#BD93F9"}},"{"),s("span",{style:{color:"#F8F8F2"}},"stock"),s("span",{style:{color:"#BD93F9"}},"}"),s("span",{style:{color:"#F1FA8C"}},' 200股"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            async_seq "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.order_stock_async(acc, stock, xtconstant."),s("span",{style:{color:"#BD93F9"}},"STOCK_BUY"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"200"),s("span",{style:{color:"#F8F8F2"}},", xtconstant."),s("span",{style:{color:"#BD93F9"}},"LATEST_PRICE"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"strategy_name"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", stock)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            A.bought_list.append(stock)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"class"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"MyXtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"XtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_disconnected"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        连接断开")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(),"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"连接断开回调"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_stock_order"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"order"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        委托回报推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param order: XtOrder对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(), "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"委托回调"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", order.order_remark)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_stock_trade"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"trade"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        成交变动推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param trade: XtTrade对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(), "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"成交回调"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", trade.order_remark)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_order_error"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"order_error"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        委托失败推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param order_error:XtOrderError 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'# print("on order_error callback")')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},"# print(order_error.order_id, order_error.error_id, order_error.error_msg)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FF79C6"}},"f"),s("span",{style:{color:"#F1FA8C"}},'"委托报错回调 '),s("span",{style:{color:"#BD93F9"}},"{"),s("span",{style:{color:"#F8F8F2"}},"order_error.order_remark"),s("span",{style:{color:"#BD93F9"}},"}"),s("span",{style:{color:"#F1FA8C"}}," "),s("span",{style:{color:"#BD93F9"}},"{"),s("span",{style:{color:"#F8F8F2"}},"order_error.error_msg"),s("span",{style:{color:"#BD93F9"}},"}"),s("span",{style:{color:"#F1FA8C"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_cancel_error"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"cancel_error"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        撤单失败推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param cancel_error: XtCancelError 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(), sys._getframe().f_code.co_name)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_order_stock_async_response"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"response"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        异步下单回报推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param response: XtOrderResponse 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FF79C6"}},"f"),s("span",{style:{color:"#F1FA8C"}},'"异步委托回调 '),s("span",{style:{color:"#BD93F9"}},"{"),s("span",{style:{color:"#F8F8F2"}},"response.order_remark"),s("span",{style:{color:"#BD93F9"}},"}"),s("span",{style:{color:"#F1FA8C"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_cancel_order_stock_async_response"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"response"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param response: XtCancelOrderResponse 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(), sys._getframe().f_code.co_name)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_account_status"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"status"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param response: XtAccountStatus 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(datetime.datetime.now(), sys._getframe().f_code.co_name)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"__name__"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"__main__"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"start"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"#指定客户端所在路径")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    path "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"r"),s("span",{style:{color:"#FF5555"}},"'"),s("span",{style:{color:"#F1FA8C"}},"D:"),s("span",{style:{color:"#FF79C6"}},"\\q"),s("span",{style:{color:"#F1FA8C"}},"mt"),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"\\s"),s("span",{style:{color:"#F1FA8C"}},"p3"),s("span",{style:{color:"#FF79C6"}},"\\迅"),s("span",{style:{color:"#F1FA8C"}},"投极速交易终端 睿智融科版"),s("span",{style:{color:"#FF79C6"}},"\\u"),s("span",{style:{color:"#F1FA8C"}},"serdata_mini"),s("span",{style:{color:"#FF5555"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 生成session id 整数类型 同时运行的策略不能重复")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    session_id "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"int"),s("span",{style:{color:"#F8F8F2"}},"(time.time())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader(path, session_id)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 开启主动请求接口的专用线程 开启后在on_stock_xxx回调函数里调用XtQuantTrader.query_xxx函数不会卡住回调线程，但是查询和推送的数据在时序上会变得不确定")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 详见: http://docs.thinktrader.net/vip/pages/ee0e9b/#开启主动请求接口的专用线程")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# xt_trader.set_relaxed_response_order_enabled(True)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 创建资金账号为 800068 的证券账号对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    acc "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," StockAccount("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"800068"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"STOCK"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 创建交易回调类对象，并声明接收回调")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    callback "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," MyXtQuantTraderCallback()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.register_callback(callback)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 启动交易线程")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.start()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 建立交易连接，返回0表示连接成功")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    connect_result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.connect()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"建立交易连接，返回0表示连接成功"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", connect_result)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 对交易回调进行订阅，订阅后可以收到交易主推，返回0表示订阅成功")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    subscribe_result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.subscribe(acc)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"对交易回调进行订阅，订阅后可以收到交易主推，返回0表示订阅成功"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", subscribe_result)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"#这一行是注册全推回调函数 包括下单判断 安全起见处于注释状态 确认理解效果后再放开")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},'# xtdata.subscribe_whole_quote(["SH", "SZ"], callback=f)')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 阻塞主线程退出")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.run_forever()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 如果使用vscode pycharm等本地编辑器 可以进入交互模式 方便调试 （把上一行的run_forever注释掉 否则不会执行到这里）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    interact()")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),K=s("h3",{id:"交易接口重连",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#交易接口重连","aria-hidden":"true"},"#"),l(" 交易接口重连")],-1),U=s("p",null,"该示例演示交易链接断开时重连的代码处理。",-1),L=s("div",{class:"custom-container tip"},[s("p",{class:"custom-container-title"},"提示"),s("ol",null,[s("li",null,[l("该示例"),s("strong",null,"不是线程安全"),l("的，仅演示断开链接时应该怎么处理重连代码，实际使用时请注意避免潜在的问题")]),s("li",null,"本策略只用于提供策略写法及参考，若您直接进行实盘下单，造成损失本网站不负担责任。")])],-1),z=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," time")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttrader "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader, XtQuantTraderCallback")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttype "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," StockAccount")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtconstant")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#指定客户端所在路径")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"path "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"E:\\qmt"),s("span",{style:{color:"#FF79C6"}},"\\\\"),s("span",{style:{color:"#F1FA8C"}},"userdata_mini"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 指定session id 整数类型，任意整数即可，同时运行的策略不能重复")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"session_id "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"123456")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"xt_trader "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"None")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"class"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"MyXtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"XtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_disconnected"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        连接断开")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"connection lost, 交易接口断开，即将重连"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"global"),s("span",{style:{color:"#F8F8F2"}}," xt_trader")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        xt_trader "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"None")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"connect"),s("span",{style:{color:"#F8F8F2"}},"():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"global"),s("span",{style:{color:"#F8F8F2"}}," session_id")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 重连时需要更换session_id")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    session_id "),s("span",{style:{color:"#FF79C6"}},"+="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader(path, session_id)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 创建资金账号为1000000365的证券账号对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    acc "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," StockAccount("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"1000000365"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    callback "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," MyXtQuantTraderCallback()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.register_callback(callback)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 启动交易线程")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.start()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 建立交易连接，返回0表示连接成功")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    connect_result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.connect()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," connect_result "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," xt_trader, "),s("span",{style:{color:"#BD93F9"}},"True")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"else"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"None"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#BD93F9"}},"False")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"__name__"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"__main__"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader, success "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," connect()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(xt_trader, success)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"while"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," xt_trader "),s("span",{style:{color:"#FF79C6"}},"is"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"None"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"开始重连交易接口"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            xt_trader, success "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," connect()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"            "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," success:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"                "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"交易接口重连成功"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        time.sleep("),s("span",{style:{color:"#BD93F9"}},"3"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        ")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Y=s("h3",{id:"信用账号执行还款",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#信用账号执行还款","aria-hidden":"true"},"#"),l(" 信用账号执行还款")],-1),$=s("p",null,"本示例用于展示如何使用xtquant库对信用账号执行还款的操作",-1),j=s("div",{class:"custom-container tip"},[s("p",{class:"custom-container-title"},"提示"),s("p",null,"本策略只用于提供策略写法及参考，若您直接进行实盘下单，造成损失本网站不负担责任。")],-1),J=s("div",{class:"language-python line-numbers-mode","data-ext":"py"},[s("pre",{class:"shiki dracula",style:{"background-color":"#282A36"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"#coding=utf-8")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttrader "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader, XtQuantTraderCallback")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant.xttype "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," StockAccount")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"from"),s("span",{style:{color:"#F8F8F2"}}," xtquant "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," xtconstant")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# 修改参数")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# path为mini qmt客户端安装目录下userdata_mini路径")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"path "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"E:"),s("span",{style:{color:"#FF79C6"}},"\\\\"),s("span",{style:{color:"#F1FA8C"}},"qmt"),s("span",{style:{color:"#FF79C6"}},"\\\\"),s("span",{style:{color:"#F1FA8C"}},"userdata_mini"),s("span",{style:{color:"#E9F284"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"# session_id为会话编号，策略使用方对于不同的Python策略需要使用不同的会话编号")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"session_id "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1234567")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"repay_money "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"1000.51"),s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#6272A4"}},"# 元，需要执行还款的金额")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"class"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#8BE9FD"}},"MyXtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#8BE9FD","font-style":"italic"}},"XtQuantTraderCallback"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_disconnected"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        连接断开")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"connection lost"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_stock_order"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"order"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        委托回报推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param order: XtOrder对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on order callback:"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(order.stock_code, order.order_status, order.order_sysid)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_stock_asset"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"asset"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        资金变动推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param asset: XtAsset对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on asset callback"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(asset.account_id, asset.cash, asset.total_asset)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_stock_trade"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"trade"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        成交变动推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param trade: XtTrade对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on trade callback"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(trade.account_id, trade.stock_code, trade.order_id)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_order_error"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"order_error"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        委托失败推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param order_error:XtOrderError 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on order_error callback"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(order_error.order_id, order_error.error_id, order_error.error_msg)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_cancel_error"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"cancel_error"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        撤单失败推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param cancel_error: XtCancelError 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on cancel_error callback"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(cancel_error.order_id, cancel_error.error_id, cancel_error.error_msg)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_order_stock_async_response"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"response"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        异步下单回报推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param response: XtOrderResponse 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on_order_stock_async_response"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(response.account_id, response.order_id, response.seq)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"def"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#50FA7B"}},"on_account_status"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#BD93F9","font-style":"italic"}},"self"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FFB86C","font-style":"italic"}},"status"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#6272A4"}},'"""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :param response: XtAccountStatus 对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},"        :return:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6272A4"}},'        """')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"on_account_status"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(status.account_id, status.account_type, status.status)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"__name__"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#FF79C6"}},"=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"__main__"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F1FA8C"}},"demo test"),s("span",{style:{color:"#E9F284"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," XtQuantTrader(path, session_id)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 创建资金账号为1000000365的证券账号对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    acc "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," StockAccount("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"200035"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"CREDIT"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# StockAccount可以用第二个参数指定账号类型，如沪港通传'HUGANGTONG'，深港通传'SHENGANGTONG'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# acc = StockAccount('1000000365','STOCK')")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 创建交易回调类对象，并声明接收回调")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    callback "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," MyXtQuantTraderCallback()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.register_callback(callback)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 启动交易线程")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.start()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 建立交易连接，返回0表示连接成功")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    connect_result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.connect()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," connect_result "),s("span",{style:{color:"#FF79C6"}},"!="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#FF79C6"}},"import"),s("span",{style:{color:"#F8F8F2"}}," sys")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        sys.exit("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"链接失败，程序即将退出 "),s("span",{style:{color:"#BD93F9"}},"%d"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#FF79C6"}},"%"),s("span",{style:{color:"#F8F8F2"}},"connect_result)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 对交易回调进行订阅，订阅后可以收到交易主推，返回0表示订阅成功")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    subscribe_result "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.subscribe(acc)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#FF79C6"}},"if"),s("span",{style:{color:"#F8F8F2"}}," subscribe_result "),s("span",{style:{color:"#FF79C6"}},"!="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"0"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"账号订阅失败 "),s("span",{style:{color:"#BD93F9"}},"%d"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#FF79C6"}},"%"),s("span",{style:{color:"#F8F8F2"}},"subscribe_result)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#8BE9FD"}},"print"),s("span",{style:{color:"#F8F8F2"}},"(subscribe_result)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    stock_code "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"600000.SH"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#6272A4"}},"# 参数占位用，任意股票代码都可以")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    volume "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#BD93F9"}},"200"),s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#6272A4"}},"# 参数占位用，任意数量")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 使用指定价下单，接口返回订单编号，后续可以用于撤单操作以及查询委托状态")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    fix_result_order_id "),s("span",{style:{color:"#FF79C6"}},"="),s("span",{style:{color:"#F8F8F2"}}," xt_trader.order_stock(acc, stock_code, xtconstant."),s("span",{style:{color:"#BD93F9"}},"CREDIT_DIRECT_CASH_REPAY"),s("span",{style:{color:"#F8F8F2"}},", repay_money, xtconstant."),s("span",{style:{color:"#BD93F9"}},"FIX_PRICE"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FF79C6"}},"-"),s("span",{style:{color:"#BD93F9"}},"1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"strategy_name"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F1FA8C"}},"remark"),s("span",{style:{color:"#E9F284"}},"'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#6272A4"}},"# 阻塞线程，接收交易推送")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    xt_trader.run_forever()")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1);function W(ss,ls){const F=c("Tabs"),r=c("ExternalLinkIcon");return p(),i("div",null,[u,m,a(F,{id:"6",data:[{id:"新手示例"}]},{title0:n(({value:o,isActive:e})=>[l("新手示例")]),tab0:n(({value:o,isActive:e})=>[b]),_:1}),v,a(F,{id:"14",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[C]),_:1}),_,a(F,{id:"22",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[B]),_:1}),D,a(F,{id:"30",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[A,E]),_:1}),f,a(F,{id:"41",data:[{id:"python"},{id:"返回值"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),title1:n(({value:o,isActive:e})=>[l("返回值")]),tab0:n(({value:o,isActive:e})=>[h]),tab1:n(({value:o,isActive:e})=>[x]),_:1}),k,s("div",g,[q,s("ol",null,[s("li",null,[l("该数据为"),s("a",w,[l("VIP数据"),a(r)])])])]),a(F,{id:"61",data:[{id:"示例"},{id:"五档返回值"}]},{title0:n(({value:o,isActive:e})=>[l("示例")]),title1:n(({value:o,isActive:e})=>[l("五档返回值")]),tab0:n(({value:o,isActive:e})=>[T]),tab1:n(({value:o,isActive:e})=>[X]),_:1}),S,a(F,{id:"72",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[I,Q]),_:1}),N,a(F,{id:"83",data:[{id:"python"},{id:"返回值"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),title1:n(({value:o,isActive:e})=>[l("返回值")]),tab0:n(({value:o,isActive:e})=>[P]),tab1:n(({value:o,isActive:e})=>[O,M]),_:1}),R,a(F,{id:"97",data:[{id:"python"},{id:"返回值"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),title1:n(({value:o,isActive:e})=>[l("返回值")]),tab0:n(({value:o,isActive:e})=>[G]),tab1:n(({value:o,isActive:e})=>[H]),_:1}),Z,a(F,{id:"134",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[V]),_:1}),K,U,L,a(F,{id:"159",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[z]),_:1}),Y,$,j,a(F,{id:"175",data:[{id:"python"}]},{title0:n(({value:o,isActive:e})=>[l("python")]),tab0:n(({value:o,isActive:e})=>[J]),_:1})])}const os=t(d,[["render",W],["__file","code_examples.html.vue"]]);export{os as default};
