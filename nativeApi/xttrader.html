
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    
	<title>XtQuant.Xttrade 交易模块 </title><meta name="description" content="QMT说明, QMT-Python-API, QMT用户手册。">
    <link rel="preload" href="../assets/style-8436f03b.css" as="style"><link rel="stylesheet" href="../assets/style-8436f03b.css">
    <link rel="modulepreload" href="../assets/app-99722cb8.js"><link rel="modulepreload" href="../assets/xttrader.html-cb4abe04.js"><link rel="modulepreload" href="../assets/xttrader.html-ed1b1fe5.js"><link rel="prefetch" href="../assets/index.html-93a0007d.js" as="script"><link rel="prefetch" href="../assets/basic_syntax.html-e393df56.js" as="script"><link rel="prefetch" href="../assets/check_sheet.html-a405c8a3.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-985b4984.js" as="script"><link rel="prefetch" href="../assets/control_statement.html-bf992bd7.js" as="script"><link rel="prefetch" href="../assets/operating_mode.html-a2f39c1a.js" as="script"><link rel="prefetch" href="../assets/start_now.html-1be21f8a.js" as="script"><link rel="prefetch" href="../assets/system_function.html-49a65798.js" as="script"><link rel="prefetch" href="../assets/index.html-179668eb.js" as="script"><link rel="prefetch" href="../assets/bond.html-d9c1be0d.js" as="script"><link rel="prefetch" href="../assets/floorfunds.html-8810bed2.js" as="script"><link rel="prefetch" href="../assets/future.html-8c1c26b7.js" as="script"><link rel="prefetch" href="../assets/indexes.html-ec6ecef0.js" as="script"><link rel="prefetch" href="../assets/industry.html-cffc4e77.js" as="script"><link rel="prefetch" href="../assets/option.html-1d25e189.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-bed5ae76.js" as="script"><link rel="prefetch" href="../assets/stock.html-035c3630.js" as="script"><link rel="prefetch" href="../assets/python调用VBA.html-e92f2331.js" as="script"><link rel="prefetch" href="../assets/全市场涨跌幅度统计.html-b8ba35f1.js" as="script"><link rel="prefetch" href="../assets/全市场资金流向.html-3bd359eb.js" as="script"><link rel="prefetch" href="../assets/北向资金.html-c14449da.js" as="script"><link rel="prefetch" href="../assets/南向资金.html-ed8f1d67.js" as="script"><link rel="prefetch" href="../assets/外盘_内盘.html-f9f023d3.js" as="script"><link rel="prefetch" href="../assets/多空对比.html-a634bb69.js" as="script"><link rel="prefetch" href="../assets/委买价_委卖价_委买量_委卖量.html-e791f06d.js" as="script"><link rel="prefetch" href="../assets/总市值.html-54cae4e7.js" as="script"><link rel="prefetch" href="../assets/总股本_涨停_跌停.html-9495eb6a.js" as="script"><link rel="prefetch" href="../assets/换手.html-396e0a2d.js" as="script"><link rel="prefetch" href="../assets/最新_今开_最高_最低_总额_总手_交易状态.html-1ae0fd22.js" as="script"><link rel="prefetch" href="../assets/注册资本.html-061f0b8d.js" as="script"><link rel="prefetch" href="../assets/流通盘.html-26dbb5b3.js" as="script"><link rel="prefetch" href="../assets/涨跌_涨幅.html-c4201ae4.js" as="script"><link rel="prefetch" href="../assets/涨跌家数变化.html-a30316a7.js" as="script"><link rel="prefetch" href="../assets/规模风向标.html-d7dc3f5e.js" as="script"><link rel="prefetch" href="../assets/量比.html-ca6f9a2e.js" as="script"><link rel="prefetch" href="../assets/rookie.html-df76d0ad.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-f1708e88.js" as="script"><link rel="prefetch" href="../assets/download_xtquant.html-337a4246.js" as="script"><link rel="prefetch" href="../assets/question_function.html-92b003d3.js" as="script"><link rel="prefetch" href="../assets/start_now.html-b45a357d.js" as="script"><link rel="prefetch" href="../assets/xtdata.html-97c855c0.js" as="script"><link rel="prefetch" href="../assets/callback_function.html-4153be6c.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-c1ae1001.js" as="script"><link rel="prefetch" href="../assets/data_function.html-2411bf01.js" as="script"><link rel="prefetch" href="../assets/data_structure.html-a96a202d.js" as="script"><link rel="prefetch" href="../assets/drawing_function.html-dee669df.js" as="script"><link rel="prefetch" href="../assets/enum_constants.html-2c1f6dcc.js" as="script"><link rel="prefetch" href="../assets/interface_operation.html-47a2cf15.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-4f12deae.js" as="script"><link rel="prefetch" href="../assets/quote_function.html-827e9fb8.js" as="script"><link rel="prefetch" href="../assets/related_instructions.html-9b630c20.js" as="script"><link rel="prefetch" href="../assets/start_now.html-79f8f415.js" as="script"><link rel="prefetch" href="../assets/system_function.html-03a1dc3a.js" as="script"><link rel="prefetch" href="../assets/trading_function.html-3c0f4ee8.js" as="script"><link rel="prefetch" href="../assets/user_attention.html-e0d27a96.js" as="script"><link rel="prefetch" href="../assets/variable_convention.html-17caf0d6.js" as="script"><link rel="prefetch" href="../assets/JoinQuant2QMT.html-38cb9974.js" as="script"><link rel="prefetch" href="../assets/index.html-22b6b31a.js" as="script"><link rel="prefetch" href="../assets/daoru_daochu.html-c8cace75.js" as="script"><link rel="prefetch" href="../assets/hangqing_setting.html-1a9570b3.js" as="script"><link rel="prefetch" href="../assets/ty_add_indicator.html-1f2f4b0a.js" as="script"><link rel="prefetch" href="../assets/ty_backtest_strategy.html-270aeeab.js" as="script"><link rel="prefetch" href="../assets/ty_code_review_backtest.html-200ceddd.js" as="script"><link rel="prefetch" href="../assets/ty_content.html-bac1ad25.js" as="script"><link rel="prefetch" href="../assets/ty_data_download.html-351b4a4f.js" as="script"><link rel="prefetch" href="../assets/ty_data_interface.html-2e32a98a.js" as="script"><link rel="prefetch" href="../assets/ty_direct_connect.html-f8b10f83.js" as="script"><link rel="prefetch" href="../assets/ty_factor_data.html-1746bcaa.js" as="script"><link rel="prefetch" href="../assets/ty_linux_xtquant_data.html-44bf60fb.js" as="script"><link rel="prefetch" href="../assets/ty_native_python.html-8028f714.js" as="script"><link rel="prefetch" href="../assets/ty_register_install.html-0d2c078f.js" as="script"><link rel="prefetch" href="../assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="../assets/index.html-23445d95.js" as="script"><link rel="prefetch" href="../assets/basic_syntax.html-5af886ee.js" as="script"><link rel="prefetch" href="../assets/check_sheet.html-5184a806.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-aa1deec9.js" as="script"><link rel="prefetch" href="../assets/control_statement.html-3b20a2b9.js" as="script"><link rel="prefetch" href="../assets/operating_mode.html-fd0ec393.js" as="script"><link rel="prefetch" href="../assets/start_now.html-bdc1834b.js" as="script"><link rel="prefetch" href="../assets/system_function.html-4f0942d4.js" as="script"><link rel="prefetch" href="../assets/index.html-a0cb365e.js" as="script"><link rel="prefetch" href="../assets/bond.html-7a63f47e.js" as="script"><link rel="prefetch" href="../assets/floorfunds.html-9746e82a.js" as="script"><link rel="prefetch" href="../assets/future.html-dff59680.js" as="script"><link rel="prefetch" href="../assets/indexes.html-f0ffc2ed.js" as="script"><link rel="prefetch" href="../assets/industry.html-6c37727a.js" as="script"><link rel="prefetch" href="../assets/option.html-bc239cdd.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-eb13f2ba.js" as="script"><link rel="prefetch" href="../assets/stock.html-5b93fe23.js" as="script"><link rel="prefetch" href="../assets/python调用VBA.html-f3232163.js" as="script"><link rel="prefetch" href="../assets/全市场涨跌幅度统计.html-0615d22a.js" as="script"><link rel="prefetch" href="../assets/全市场资金流向.html-0e599d6b.js" as="script"><link rel="prefetch" href="../assets/北向资金.html-dabcf598.js" as="script"><link rel="prefetch" href="../assets/南向资金.html-dbd875ea.js" as="script"><link rel="prefetch" href="../assets/外盘_内盘.html-5f883999.js" as="script"><link rel="prefetch" href="../assets/多空对比.html-11c1c488.js" as="script"><link rel="prefetch" href="../assets/委买价_委卖价_委买量_委卖量.html-0df576f7.js" as="script"><link rel="prefetch" href="../assets/总市值.html-e1af9791.js" as="script"><link rel="prefetch" href="../assets/总股本_涨停_跌停.html-41245f1b.js" as="script"><link rel="prefetch" href="../assets/换手.html-2811be82.js" as="script"><link rel="prefetch" href="../assets/最新_今开_最高_最低_总额_总手_交易状态.html-b756ceca.js" as="script"><link rel="prefetch" href="../assets/注册资本.html-049b932e.js" as="script"><link rel="prefetch" href="../assets/流通盘.html-e48d17b3.js" as="script"><link rel="prefetch" href="../assets/涨跌_涨幅.html-c49f09e7.js" as="script"><link rel="prefetch" href="../assets/涨跌家数变化.html-b0a2702d.js" as="script"><link rel="prefetch" href="../assets/规模风向标.html-8caa0565.js" as="script"><link rel="prefetch" href="../assets/量比.html-13e416e5.js" as="script"><link rel="prefetch" href="../assets/rookie.html-e305c3cb.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-37f2c141.js" as="script"><link rel="prefetch" href="../assets/download_xtquant.html-7a7ee88f.js" as="script"><link rel="prefetch" href="../assets/question_function.html-437cccea.js" as="script"><link rel="prefetch" href="../assets/start_now.html-01155b75.js" as="script"><link rel="prefetch" href="../assets/xtdata.html-1e0a07b7.js" as="script"><link rel="prefetch" href="../assets/callback_function.html-a1ef7560.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-8a240771.js" as="script"><link rel="prefetch" href="../assets/data_function.html-94c8c7e6.js" as="script"><link rel="prefetch" href="../assets/data_structure.html-47f36229.js" as="script"><link rel="prefetch" href="../assets/drawing_function.html-ad741397.js" as="script"><link rel="prefetch" href="../assets/enum_constants.html-6a4d27a4.js" as="script"><link rel="prefetch" href="../assets/interface_operation.html-9b7579d2.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-15175a6b.js" as="script"><link rel="prefetch" href="../assets/quote_function.html-86d4ef78.js" as="script"><link rel="prefetch" href="../assets/related_instructions.html-b4f87603.js" as="script"><link rel="prefetch" href="../assets/start_now.html-d25bd7fe.js" as="script"><link rel="prefetch" href="../assets/system_function.html-b5032370.js" as="script"><link rel="prefetch" href="../assets/trading_function.html-51206dd7.js" as="script"><link rel="prefetch" href="../assets/user_attention.html-d2df5640.js" as="script"><link rel="prefetch" href="../assets/variable_convention.html-8bcc5c5f.js" as="script"><link rel="prefetch" href="../assets/JoinQuant2QMT.html-5a5867f6.js" as="script"><link rel="prefetch" href="../assets/index.html-925d7c12.js" as="script"><link rel="prefetch" href="../assets/daoru_daochu.html-9feb8edf.js" as="script"><link rel="prefetch" href="../assets/hangqing_setting.html-6f4f36fa.js" as="script"><link rel="prefetch" href="../assets/ty_add_indicator.html-ab4dcef5.js" as="script"><link rel="prefetch" href="../assets/ty_backtest_strategy.html-3da9fb3c.js" as="script"><link rel="prefetch" href="../assets/ty_code_review_backtest.html-bc72c419.js" as="script"><link rel="prefetch" href="../assets/ty_content.html-93b129b3.js" as="script"><link rel="prefetch" href="../assets/ty_data_download.html-6381aec1.js" as="script"><link rel="prefetch" href="../assets/ty_data_interface.html-2a716790.js" as="script"><link rel="prefetch" href="../assets/ty_direct_connect.html-b63051ab.js" as="script"><link rel="prefetch" href="../assets/ty_factor_data.html-5f08c397.js" as="script"><link rel="prefetch" href="../assets/ty_linux_xtquant_data.html-bf571773.js" as="script"><link rel="prefetch" href="../assets/ty_native_python.html-264f76d4.js" as="script"><link rel="prefetch" href="../assets/ty_register_install.html-cfe8e155.js" as="script"><link rel="prefetch" href="../assets/404.html-a36e0f1a.js" as="script"><link rel="prefetch" href="../assets/SearchBox-a1914cb6.js" as="script"><link rel="prefetch" href="../assets/auto-6adc87e8.js" as="script"><link rel="prefetch" href="../assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="../assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="../assets/SignPanel-39d95e93.js" as="script"><link rel="prefetch" href="../assets/SignPanel-39d95e93.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[-->
	
	<div class="sidebar-mask"></div><!--[--><aside class="sidebar">
	
	<ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">原生Python <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="../nativeApi/start_now.html" class="sidebar-item" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a><!----></li><li><a href="../nativeApi/xtdata.html" class="sidebar-item" aria-label="XtQuant.XtData 行情模块"><!--[--><!--]--> XtQuant.XtData 行情模块 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="XtQuant.Xttrade 交易模块"><!--[--><!--]--> XtQuant.Xttrade 交易模块 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant能提供哪些服务" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant能提供哪些服务"><!--[--><!--]--> XtQuant能提供哪些服务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant运行依赖环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant运行依赖环境"><!--[--><!--]--> XtQuant运行依赖环境 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#版本信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="版本信息"><!--[--><!--]--> 版本信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#快速入门" class="router-link-active router-link-exact-active sidebar-item" aria-label="快速入门"><!--[--><!--]--> 快速入门 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#创建策略" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建策略"><!--[--><!--]--> 创建策略 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant运行逻辑" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant运行逻辑"><!--[--><!--]--> XtQuant运行逻辑 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant数据字典" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant数据字典"><!--[--><!--]--> XtQuant数据字典 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#交易市场-market" class="router-link-active router-link-exact-active sidebar-item" aria-label="交易市场(market)"><!--[--><!--]--> 交易市场(market) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号类型-account-type" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号类型(account_type)"><!--[--><!--]--> 账号类型(account_type) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#委托类型-order-type" class="router-link-active router-link-exact-active sidebar-item" aria-label="委托类型(order_type)"><!--[--><!--]--> 委托类型(order_type) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#报价类型-price-type" class="router-link-active router-link-exact-active sidebar-item" aria-label="报价类型(price_type)"><!--[--><!--]--> 报价类型(price_type) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#委托状态-order-status" class="router-link-active router-link-exact-active sidebar-item" aria-label="委托状态(order_status)"><!--[--><!--]--> 委托状态(order_status) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号状态-account-status" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号状态(account_status)"><!--[--><!--]--> 账号状态(account_status) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#划拨方向-transfer-direction" class="router-link-active router-link-exact-active sidebar-item" aria-label="划拨方向(transfer_direction)"><!--[--><!--]--> 划拨方向(transfer_direction) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#多空方向-direction" class="router-link-active router-link-exact-active sidebar-item" aria-label="多空方向(direction)"><!--[--><!--]--> 多空方向(direction) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#交易操作-offset-flag" class="router-link-active router-link-exact-active sidebar-item" aria-label="交易操作(offset_flag)"><!--[--><!--]--> 交易操作(offset_flag) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant数据结构说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant数据结构说明"><!--[--><!--]--> XtQuant数据结构说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#资产xtasset" class="router-link-active router-link-exact-active sidebar-item" aria-label="资产XtAsset"><!--[--><!--]--> 资产XtAsset <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#委托xtorder" class="router-link-active router-link-exact-active sidebar-item" aria-label="委托XtOrder"><!--[--><!--]--> 委托XtOrder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#成交xttrade" class="router-link-active router-link-exact-active sidebar-item" aria-label="成交XtTrade"><!--[--><!--]--> 成交XtTrade <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#持仓xtposition" class="router-link-active router-link-exact-active sidebar-item" aria-label="持仓XtPosition"><!--[--><!--]--> 持仓XtPosition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#异步下单委托反馈xtorderresponse" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步下单委托反馈XtOrderResponse"><!--[--><!--]--> 异步下单委托反馈XtOrderResponse <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#异步撤单委托反馈xtcancelorderresponse" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步撤单委托反馈XtCancelOrderResponse"><!--[--><!--]--> 异步撤单委托反馈XtCancelOrderResponse <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#下单失败错误xtordererror" class="router-link-active router-link-exact-active sidebar-item" aria-label="下单失败错误XtOrderError"><!--[--><!--]--> 下单失败错误XtOrderError <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#撤单失败错误xtcancelerror" class="router-link-active router-link-exact-active sidebar-item" aria-label="撤单失败错误XtCancelError"><!--[--><!--]--> 撤单失败错误XtCancelError <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#信用账号资产xtcreditdetail" class="router-link-active router-link-exact-active sidebar-item" aria-label="信用账号资产XtCreditDetail"><!--[--><!--]--> 信用账号资产XtCreditDetail <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#负债合约stkcompacts" class="router-link-active router-link-exact-active sidebar-item" aria-label="负债合约StkCompacts"><!--[--><!--]--> 负债合约StkCompacts <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#融资融券标的creditsubjects" class="router-link-active router-link-exact-active sidebar-item" aria-label="融资融券标的CreditSubjects"><!--[--><!--]--> 融资融券标的CreditSubjects <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#可融券数据creditslocode" class="router-link-active router-link-exact-active sidebar-item" aria-label="可融券数据CreditSloCode"><!--[--><!--]--> 可融券数据CreditSloCode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#标的担保品creditassure" class="router-link-active router-link-exact-active sidebar-item" aria-label="标的担保品CreditAssure"><!--[--><!--]--> 标的担保品CreditAssure <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号状态xtaccountstatus" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号状态XtAccountStatus"><!--[--><!--]--> 账号状态XtAccountStatus <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号信息xtaccountinfo" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号信息XtAccountInfo"><!--[--><!--]--> 账号信息XtAccountInfo <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#约券相关异步接口的反馈xtsmtappointmentresponse" class="router-link-active router-link-exact-active sidebar-item" aria-label="约券相关异步接口的反馈XtSmtAppointmentResponse"><!--[--><!--]--> 约券相关异步接口的反馈XtSmtAppointmentResponse <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#xtquant-api说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="XtQuant API说明"><!--[--><!--]--> XtQuant API说明 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#系统设置接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="系统设置接口"><!--[--><!--]--> 系统设置接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#创建api实例" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建API实例"><!--[--><!--]--> 创建API实例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#注册回调类" class="router-link-active router-link-exact-active sidebar-item" aria-label="注册回调类"><!--[--><!--]--> 注册回调类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#准备api环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="准备API环境"><!--[--><!--]--> 准备API环境 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#创建连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建连接"><!--[--><!--]--> 创建连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#停止运行" class="router-link-active router-link-exact-active sidebar-item" aria-label="停止运行"><!--[--><!--]--> 停止运行 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#阻塞当前线程进入等待状态" class="router-link-active router-link-exact-active sidebar-item" aria-label="阻塞当前线程进入等待状态"><!--[--><!--]--> 阻塞当前线程进入等待状态 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#开启主动请求接口的专用线程" class="router-link-active router-link-exact-active sidebar-item" aria-label="开启主动请求接口的专用线程"><!--[--><!--]--> 开启主动请求接口的专用线程 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#操作接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="操作接口"><!--[--><!--]--> 操作接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#订阅账号信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="订阅账号信息"><!--[--><!--]--> 订阅账号信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#反订阅账号信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="反订阅账号信息"><!--[--><!--]--> 反订阅账号信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票同步报单" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票同步报单"><!--[--><!--]--> 股票同步报单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票异步报单" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票异步报单"><!--[--><!--]--> 股票异步报单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票同步撤单" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票同步撤单"><!--[--><!--]--> 股票同步撤单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票同步撤单-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票同步撤单"><!--[--><!--]--> 股票同步撤单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票异步撤单" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票异步撤单"><!--[--><!--]--> 股票异步撤单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票异步撤单-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票异步撤单"><!--[--><!--]--> 股票异步撤单 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#资金划拨" class="router-link-active router-link-exact-active sidebar-item" aria-label="资金划拨"><!--[--><!--]--> 资金划拨 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#股票查询接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="股票查询接口"><!--[--><!--]--> 股票查询接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#资产查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="资产查询"><!--[--><!--]--> 资产查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#委托查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="委托查询"><!--[--><!--]--> 委托查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#成交查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="成交查询"><!--[--><!--]--> 成交查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#持仓查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="持仓查询"><!--[--><!--]--> 持仓查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#信用查询接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="信用查询接口"><!--[--><!--]--> 信用查询接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#信用资产查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="信用资产查询"><!--[--><!--]--> 信用资产查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#负债合约查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="负债合约查询"><!--[--><!--]--> 负债合约查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#融资融券标的查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="融资融券标的查询"><!--[--><!--]--> 融资融券标的查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#可融券数据查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="可融券数据查询"><!--[--><!--]--> 可融券数据查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#标的担保品查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="标的担保品查询"><!--[--><!--]--> 标的担保品查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#其他查询接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他查询接口"><!--[--><!--]--> 其他查询接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#新股申购额度查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="新股申购额度查询"><!--[--><!--]--> 新股申购额度查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#当日新股信息查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="当日新股信息查询"><!--[--><!--]--> 当日新股信息查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号信息查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号信息查询"><!--[--><!--]--> 账号信息查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#普通柜台资金查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="普通柜台资金查询"><!--[--><!--]--> 普通柜台资金查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#普通柜台持仓查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="普通柜台持仓查询"><!--[--><!--]--> 普通柜台持仓查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#约券相关接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="约券相关接口"><!--[--><!--]--> 约券相关接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#券源行情查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="券源行情查询"><!--[--><!--]--> 券源行情查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#库存券约券申请" class="router-link-active router-link-exact-active sidebar-item" aria-label="库存券约券申请"><!--[--><!--]--> 库存券约券申请 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#约券合约查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="约券合约查询"><!--[--><!--]--> 约券合约查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../nativeApi/xttrader.html#回调类" class="router-link-active router-link-exact-active sidebar-item" aria-label="回调类"><!--[--><!--]--> 回调类 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../nativeApi/xttrader.html#连接状态回调" class="router-link-active router-link-exact-active sidebar-item" aria-label="连接状态回调"><!--[--><!--]--> 连接状态回调 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#账号状态信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="账号状态信息推送"><!--[--><!--]--> 账号状态信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#资产信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="资产信息推送"><!--[--><!--]--> 资产信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#委托信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="委托信息推送"><!--[--><!--]--> 委托信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#成交信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="成交信息推送"><!--[--><!--]--> 成交信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#持仓信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="持仓信息推送"><!--[--><!--]--> 持仓信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#下单失败信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="下单失败信息推送"><!--[--><!--]--> 下单失败信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#撤单失败信息推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="撤单失败信息推送"><!--[--><!--]--> 撤单失败信息推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#异步下单回报推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步下单回报推送"><!--[--><!--]--> 异步下单回报推送 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../nativeApi/xttrader.html#约券相关异步接口的回报推送" class="router-link-active router-link-exact-active sidebar-item" aria-label="约券相关异步接口的回报推送"><!--[--><!--]--> 约券相关异步接口的回报推送 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><li><a href="../nativeApi/code_examples.html" class="sidebar-item" aria-label="完整实例"><!--[--><!--]--> 完整实例 <!--[--><!--]--></a><!----></li><li><a href="../nativeApi/question_function.html" class="sidebar-item" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a><!----></li>
	
	<!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page" data-v-3c904194><!--[--><!--]--><div class="theme-default-contents" data-v-3c904194><!----><!--[--><!--]--><div class="theme-default-content" data-v-3c904194><div data-v-3c904194><h1 id="xtquant-xttrade-交易模块" tabindex="-1"><a class="header-anchor" href="#xtquant-xttrade-交易模块" aria-hidden="true">#</a> XtQuant.Xttrade 交易模块</h1><h3 id="xtquant能提供哪些服务" tabindex="-1"><a class="header-anchor" href="#xtquant能提供哪些服务" aria-hidden="true">#</a> XtQuant能提供哪些服务</h3><p>XtQuant是基于MiniQMT衍生出来的一套完善的Python策略运行框架，对外以Python库的形式提供策略交易所需要的行情和交易相关的API接口。</p><h3 id="xtquant运行依赖环境" tabindex="-1"><a class="header-anchor" href="#xtquant运行依赖环境" aria-hidden="true">#</a> XtQuant运行依赖环境</h3><p>XtQuant目前提供的库包括Python3.6、3.7、3.8版本，不同版本的python导入时会自动切换。 在运行使用XtQuant的程序前需要先启动MiniQMT客户端。</p><h2 id="版本信息" tabindex="-1"><a class="header-anchor" href="#版本信息" aria-hidden="true">#</a> 版本信息</h2><ul><li><p>2020-09-01</p><ul><li>初稿</li></ul></li><li><p>2020-10-14</p><ul><li>持仓结构添加字段</li><li>投资备注相关修正</li></ul></li><li><p>2020-10-21</p><ul><li>添加信用交易相关委托类型（order_type）枚举</li><li>调整XtQuant运行依赖环境说明，更新多版本支持相关说明</li></ul></li><li><p>2020-11-13</p><ul><li>添加信用交易相关类型定义说明</li><li>添加信用交易相关接口说明</li><li>添加异步撤单委托反馈结构说明</li><li>添加下单失败和撤单失败主推结构说明</li><li>添加订阅和反订阅接口</li><li>添加创建API实例，注册回调类，准备API环境，创建连接，停止运行，阻塞进程接口说明</li><li>调整API接口说明 <ul><li>将接口细分为&quot;系统设置接口&quot;，“操作接口”，“查询接口”，&quot;信用相关查询接口&quot;，“回调类”等五类</li><li>接口返回“None”修改为“无”</li><li>去掉回调类接口中的示例</li><li>添加“备注”项</li></ul></li><li>所有“证券账号”改为“资金账号”</li><li>英文“,”调整为中文“，”</li><li>示例代码中增加XtQuant API实例对象，修正没有实例，直接调用的错误</li><li>添加股票异步撤单接口说明，将原股票撤单修改为股票同步撤单</li></ul></li><li><p>2020-11-19</p><ul><li>添加账号状态主推接口</li><li>添加账号状态数据结构说明</li><li>添加账号状态枚举值</li><li>回调类接口说明调整 <ul><li>将回调函数定义及函数说明标题调整一致</li><li>补充异步下单回报推送、异步撤单回报推送接口说明</li></ul></li></ul></li><li><p>2021-07-20</p><ul><li>修改回调/主推函数实现机制，提升报撤单回报的速度，降低穿透延时波动</li><li><code>XtQuantTrader.run_forever()</code>修改实现，支持<code>Ctrl+C</code>跳出</li></ul></li><li><p>2022-06-27</p><ul><li>委托查询支持仅查询可撤委托</li><li>添加新股申购相关接口 <ul><li><code>query_new_purchase_limit</code> 查询新股申购额度</li><li><code>query_ipo_data</code> 查询新股信息</li></ul></li><li>添加账号信息查询接口 <ul><li><code>query_account_infos</code></li></ul></li></ul></li><li><p>2022-11-15</p><ul><li>修复<code>XtQuantTrader.unsubscribe</code>的实现</li></ul></li><li><p>2022-11-17</p><ul><li>交易数据字典格式调整</li></ul></li><li><p>2022-11-28</p><ul><li>为主动请求接口的返回增加专用线程以及相关控制，以支持在on_stock_order等推送接口中调用同步请求 <ul><li><code>XtQuantTrader.set_relaxed_response_order_enabled</code></li></ul></li></ul></li><li><p>2023-07-17</p><ul><li>持仓结构<code>XtPosition</code> 成本价字段调整 <ul><li><code>open_price</code> - 开仓价</li><li><code>avg_price</code> - 成本价</li></ul></li></ul></li><li><p>2023-07-26</p><ul><li>添加资金划拨接口 <code>fund_transfer</code></li></ul></li><li><p>2023-08-11</p><ul><li>添加划拨业务查询普通柜台资金接口 <code>query_com_fund</code></li><li>添加划拨业务查询普通柜台持仓接口 <code>query_com_position</code></li></ul></li><li><p>2023-10-16</p><ul><li>添加期货市价的报价类型 <ul><li><code>xtconstant.MARKET_BEST</code> - 市价最优价[郑商所]</li><li><code>xtconstant.MARKET_CANCEL</code> - 市价即成剩撤[大商所]</li><li><code>xtconstant.MARKET_CANCEL_ALL</code> - 市价全额成交或撤[大商所]</li><li><code>xtconstant.MARKET_CANCEL_1</code> - 市价最优一档即成剩撤[中金所]</li><li><code>xtconstant.MARKET_CANCEL_5</code> - 市价最优五档即成剩撤[中金所]</li><li><code>xtconstant.MARKET_CONVERT_1</code> - 市价最优一档即成剩转[中金所]</li><li><code>xtconstant.MARKET_CONVERT_5</code> - 市价最优五档即成剩转[中金所]</li></ul></li></ul></li><li><p>2023-10-20</p></li><li><p>委托结构<code>XtOrder</code>，成交结构<code>XtTrade</code>，持仓结构<code>XtPosition</code> 新增多空字段</p><ul><li><code>direction</code> - 多空，股票不需要</li></ul></li><li><p>委托结构<code>XtOrder</code>，成交结构<code>XtTrade</code>新增交易操作字段</p><ul><li><code>offset_flag</code> - 交易操作，用此字段区分股票买卖，期货开、平仓，期权买卖等</li></ul></li><li><p>2023-11-03</p><ul><li>添加券源行情查询接口 <code>smt_query_quoter</code></li><li>添加库存券约券申请接口 <code>smt_negotiate_order</code></li><li>添加约券合约查询接口 <code>smt_query_compact</code></li></ul></li><li><p>2024-01-02</p><ul><li>委托类型增加ETF申赎</li></ul></li></ul><h2 id="快速入门" tabindex="-1"><a class="header-anchor" href="#快速入门" aria-hidden="true">#</a> 快速入门</h2><h3 id="创建策略" tabindex="-1"><a class="header-anchor" href="#创建策略" aria-hidden="true">#</a> 创建策略</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant.xttrader </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> XtQuantTrader, XtQuantTraderCallback</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant.xttype </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> StockAccount</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtconstant</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">MyXtQuantTraderCallback</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">XtQuantTraderCallback</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_disconnected</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        连接断开</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">connection lost</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_order</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">order</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        委托回报推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param order: XtOrder对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on order callback:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(order.stock_code, order.order_status, order.order_sysid)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_asset</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">asset</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        资金变动推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param asset: XtAsset对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on asset callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(asset.account_id, asset.cash, asset.total_asset)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_trade</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">trade</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        成交变动推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param trade: XtTrade对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on trade callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(trade.account_id, trade.stock_code, trade.order_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_position</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">position</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        持仓变动推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param position: XtPosition对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on position callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(position.stock_code, position.volume)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_order_error</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">order_error</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        委托失败推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param order_error:XtOrderError 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on order_error callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(order_error.order_id, order_error.error_id, order_error.error_msg)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_cancel_error</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">cancel_error</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        撤单失败推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param cancel_error: XtCancelError 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on cancel_error callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(cancel_error.order_id, cancel_error.error_id, cancel_error.error_msg)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_order_stock_async_response</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">response</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        异步下单回报推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param response: XtOrderResponse 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on_order_stock_async_response</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(response.account_id, response.order_id, response.seq)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_account_status</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">status</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        :param response: XtAccountStatus 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on_account_status</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(status.account_id, status.account_type, status.status)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">__name__</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">__main__</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">demo test</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># path为mini qmt客户端安装目录下userdata_mini路径</span></span>
<span class="line"><span style="color:#F8F8F2;">    path </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">D:</span><span style="color:#FF79C6;">\\</span><span style="color:#F1FA8C;">交易终端</span><span style="color:#FF79C6;">\\</span><span style="color:#F1FA8C;">userdata_mini</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># session_id为会话编号，策略使用方对于不同的Python策略需要使用不同的会话编号</span></span>
<span class="line"><span style="color:#F8F8F2;">    session_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">123456</span></span>
<span class="line"><span style="color:#F8F8F2;">    xt_trader </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> XtQuantTrader(path, session_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 创建资金账号为1000000365的证券账号对象</span></span>
<span class="line"><span style="color:#F8F8F2;">    acc </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># StockAccount可以用第二个参数指定账号类型，如沪港通传&#39;HUGANGTONG&#39;，深港通传&#39;SHENGANGTONG&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># acc = StockAccount(&#39;1000000365&#39;,&#39;STOCK&#39;)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 创建交易回调类对象，并声明接收回调</span></span>
<span class="line"><span style="color:#F8F8F2;">    callback </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> MyXtQuantTraderCallback()</span></span>
<span class="line"><span style="color:#F8F8F2;">    xt_trader.register_callback(callback)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 启动交易线程</span></span>
<span class="line"><span style="color:#F8F8F2;">    xt_trader.start()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 建立交易连接，返回0表示连接成功</span></span>
<span class="line"><span style="color:#F8F8F2;">    connect_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.connect()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(connect_result)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 对交易回调进行订阅，订阅后可以收到交易主推，返回0表示订阅成功</span></span>
<span class="line"><span style="color:#F8F8F2;">    subscribe_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.subscribe(acc)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(subscribe_result)</span></span>
<span class="line"><span style="color:#F8F8F2;">    stock_code </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">600000.SH</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 使用指定价下单，接口返回订单编号，后续可以用于撤单操作以及查询委托状态</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">order using the fix price:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    fix_result_order_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.order_stock(acc, stock_code, xtconstant.</span><span style="color:#BD93F9;">STOCK_BUY</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">200</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">FIX_PRICE</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10.5</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">strategy_name</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">remark</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(fix_result_order_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 使用订单编号撤单</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">cancel order:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    cancel_order_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.cancel_order_stock(acc, fix_result_order_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(cancel_order_result)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 使用异步下单接口，接口返回下单请求序号seq，seq可以和on_order_stock_async_response的委托反馈response对应起来</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">order using async api:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    async_seq </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.order_stock_async(acc, stock_code, xtconstant.</span><span style="color:#BD93F9;">STOCK_BUY</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">200</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">FIX_PRICE</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10.5</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">strategy_name</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">remark</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(async_seq)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 查询证券资产</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query asset:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    asset </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_asset(acc)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> asset:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">asset:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">cash </span><span style="color:#BD93F9;">{0}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(asset.cash))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 根据订单编号查询委托</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query order:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    order </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_order(acc, fix_result_order_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> order:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">order:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">order </span><span style="color:#BD93F9;">{0}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(order.order_id))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 查询当日所有的委托</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query orders:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    orders </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_orders(acc)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">orders:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(orders))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(orders) </span><span style="color:#FF79C6;">!=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">last order:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#BD93F9;">{0}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{1}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{2}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(orders[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].stock_code, orders[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].order_volume, orders[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].price))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 查询当日所有的成交</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query trade:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    trades </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_trades(acc)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">trades:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(trades))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(trades) </span><span style="color:#FF79C6;">!=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">last trade:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#BD93F9;">{0}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{1}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{2}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(trades[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].stock_code, trades[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].traded_volume, trades[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].traded_price))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 查询当日所有的持仓</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query positions:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    positions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_positions(acc)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">positions:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(positions))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">len</span><span style="color:#F8F8F2;">(positions) </span><span style="color:#FF79C6;">!=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">last position:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#BD93F9;">{0}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{1}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{2}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(positions[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].account_id, positions[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].stock_code, positions[</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].volume))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 根据股票代码查询对应持仓</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">query position:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    position </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_position(acc, stock_code)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> position:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">position:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#BD93F9;">{0}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{1}</span><span style="color:#F1FA8C;"> </span><span style="color:#BD93F9;">{2}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">.format(position.account_id, position.stock_code, position.volume))</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 阻塞线程，接收交易推送</span></span>
<span class="line"><span style="color:#F8F8F2;">    xt_trader.run_forever()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="进阶篇" tabindex="-1"><a class="header-anchor" href="#进阶篇" aria-hidden="true">#</a> 进阶篇</h1><h2 id="xtquant运行逻辑" tabindex="-1"><a class="header-anchor" href="#xtquant运行逻辑" aria-hidden="true">#</a> XtQuant运行逻辑</h2><p>XtQuant封装了策略交易所需要的Python API接口，可以和MiniQMT客户端交互进行报单、撤单、查询资产、查询委托、查询成交、查询持仓以及收到资金、委托、成交和持仓等变动的主推消息。</p><h2 id="xtquant数据字典" tabindex="-1"><a class="header-anchor" href="#xtquant数据字典" aria-hidden="true">#</a> XtQuant数据字典</h2><h3 id="交易市场-market" tabindex="-1"><a class="header-anchor" href="#交易市场-market" aria-hidden="true">#</a> 交易市场(market)</h3><ul><li>上交所 - <code>xtconstant.SH_MARKET</code></li><li>深交所 - <code>xtconstant.SZ_MARKET</code></li></ul><h3 id="账号类型-account-type" tabindex="-1"><a class="header-anchor" href="#账号类型-account-type" aria-hidden="true">#</a> 账号类型(account_type)</h3><ul><li>期货 - <code>xtconstant.FUTURE_ACCOUNT</code></li><li>股票 - <code>xtconstant.SECURITY_ACCOUNT</code></li><li>信用 - <code>xtconstant.CREDIT_ACCOUNT</code></li><li>期货期权 - <code>xtconstant.FUTURE_OPTION_ACCOUNT</code></li><li>股票期权 - <code>xtconstant.STOCK_OPTION_ACCOUNT</code></li><li>沪港通 - <code>xtconstant.HUGANGTONG_ACCOUNT</code></li><li>深港通 - <code>xtconstant.SHENGANGTONG_ACCOUNT</code></li></ul><h3 id="委托类型-order-type" tabindex="-1"><a class="header-anchor" href="#委托类型-order-type" aria-hidden="true">#</a> 委托类型(order_type)</h3><ul><li><p>股票</p><ul><li>买入 - <code>xtconstant.STOCK_BUY</code></li><li>卖出 - <code>xtconstant.STOCK_SELL</code></li></ul></li><li><p>信用</p><ul><li>担保品买入 - <code>xtconstant.CREDIT_BUY</code></li><li>担保品卖出 - <code>xtconstant.CREDIT_SELL</code></li><li>融资买入 - <code>xtconstant.CREDIT_FIN_BUY</code></li><li>融券卖出 - <code>xtconstant.CREDIT_SLO_SELL</code></li><li>买券还券 - <code>xtconstant.CREDIT_BUY_SECU_REPAY</code></li><li>直接还券 - <code>xtconstant.CREDIT_DIRECT_SECU_REPAY</code></li><li>卖券还款 - <code>xtconstant.CREDIT_SELL_SECU_REPAY</code></li><li>直接还款 - <code>xtconstant.CREDIT_DIRECT_CASH_REPAY</code></li><li>专项融资买入 - <code>xtconstant.CREDIT_FIN_BUY_SPECIAL</code></li><li>专项融券卖出 - <code>xtconstant.CREDIT_SLO_SELL_SPECIAL</code></li><li>专项买券还券 - <code>xtconstant.CREDIT_BUY_SECU_REPAY_SPECIAL</code></li><li>专项直接还券 - <code>xtconstant.CREDIT_DIRECT_SECU_REPAY_SPECIAL</code></li><li>专项卖券还款 - <code>xtconstant.CREDIT_SELL_SECU_REPAY_SPECIAL</code></li><li>专项直接还款 - <code>xtconstant.CREDIT_DIRECT_CASH_REPAY_SPECIAL</code></li></ul></li><li><p>期货六键风格</p><ul><li>开多 - <code>xtconstant.FUTURE_OPEN_LONG</code></li><li>平昨多 - <code>xtconstant.FUTURE_CLOSE_LONG_HISTORY</code></li><li>平今多 - <code>xtconstant.FUTURE_CLOSE_LONG_TODAY</code></li><li>开空 - <code>xtconstant.FUTURE_OPEN_SHORT</code></li><li>平昨空 - <code>xtconstant.FUTURE_CLOSE_SHORT_HISTORY</code></li><li>平今空 - <code>xtconstant.FUTURE_CLOSE_SHORT_TODAY</code></li></ul></li><li><p>期货四键风格</p><ul><li>平多，优先平今 - <code>xtconstant.FUTURE_CLOSE_LONG_TODAY_FIRST</code></li><li>平多，优先平昨 - <code>xtconstant.FUTURE_CLOSE_LONG_HISTORY_FIRST</code></li><li>平空，优先平今 - <code>xtconstant.FUTURE_CLOSE_SHORT_TODAY_FIRST</code></li><li>平空，优先平昨 - <code>xtconstant.FUTURE_CLOSE_SHORT_HISTORY_FIRST</code></li></ul></li><li><p>期货两键风格</p><ul><li>卖出，如有多仓，优先平仓，优先平今，如有余量，再开空 - <code>xtconstant.FUTURE_CLOSE_LONG_TODAY_HISTORY_THEN_OPEN_SHORT</code></li><li>卖出，如有多仓，优先平仓，优先平昨，如有余量，再开空 - <code>xtconstant.FUTURE_CLOSE_LONG_HISTORY_TODAY_THEN_OPEN_SHORT</code></li><li>买入，如有空仓，优先平仓，优先平今，如有余量，再开多 - <code>xtconstant.FUTURE_CLOSE_SHORT_TODAY_HISTORY_THEN_OPEN_LONG</code></li><li>买入，如有空仓，优先平仓，优先平昨，如有余量，再开多 - <code>xtconstant.FUTURE_CLOSE_SHORT_HISTORY_TODAY_THEN_OPEN_LONG</code></li><li>买入，不优先平仓 - <code>xtconstant.FUTURE_OPEN</code></li><li>卖出，不优先平仓 - <code>xtconstant.FUTURE_CLOSE</code></li></ul></li><li><p>期货 - 跨商品套利</p><ul><li>开仓 - <code>xtconstant.FUTURE_ARBITRAGE_OPEN</code></li><li>平, 优先平昨 - <code>xtconstant.FUTURE_ARBITRAGE_CLOSE_HISTORY_FIRST</code></li><li>平, 优先平今 - <code>xtconstant.FUTURE_ARBITRAGE_CLOSE_TODAY_FIRST</code></li></ul></li><li><p>期货展期</p><ul><li>看多, 优先平昨 - <code>xtconstant.FUTURE_RENEW_LONG_CLOSE_HISTORY_FIRST</code></li><li>看多，优先平今 - <code>xtconstant.FUTURE_RENEW_LONG_CLOSE_TODAY_FIRST</code></li><li>看空，优先平昨 - <code>xtconstant.FUTURE_RENEW_SHORT_CLOSE_HISTORY_FIRST</code></li><li>看空，优先平今 - <code>xtconstant.FUTURE_RENEW_SHORT_CLOSE_TODAY_FIRST</code></li></ul></li><li><p>股票期权</p><ul><li>买入开仓，以下用于个股期权交易业务 - <code>xtconstant.STOCK_OPTION_BUY_OPEN</code></li><li>卖出平仓 - <code>xtconstant.STOCK_OPTION_SELL_CLOSE</code></li><li>卖出开仓 - <code>xtconstant.STOCK_OPTION_SELL_OPEN</code></li><li>买入平仓 - <code>xtconstant.STOCK_OPTION_BUY_CLOSE</code></li><li>备兑开仓 - <code>xtconstant.STOCK_OPTION_COVERED_OPEN</code></li><li>备兑平仓 - <code>xtconstant.STOCK_OPTION_COVERED_CLOSE</code></li><li>认购行权 - <code>xtconstant.STOCK_OPTION_CALL_EXERCISE</code></li><li>认沽行权 - <code>xtconstant.STOCK_OPTION_PUT_EXERCISE</code></li><li>证券锁定 - <code>xtconstant.STOCK_OPTION_SECU_LOCK</code></li><li>证券解锁 - <code>xtconstant.STOCK_OPTION_SECU_UNLOCK</code></li></ul></li><li><p>期货期权</p><ul><li>期货期权行权 - <code>xtconstant.OPTION_FUTURE_OPTION_EXERCISE</code></li></ul></li><li><p>ETF申赎</p><ul><li>申购 - <code>xtconstant.ETF_PURCHASE </code></li><li>赎回 - <code>xtconstant.ETF_REDEMPTION </code></li></ul></li></ul><h3 id="报价类型-price-type" tabindex="-1"><a class="header-anchor" href="#报价类型-price-type" aria-hidden="true">#</a> 报价类型(price_type)</h3><ul><li>最新价 - <code>xtconstant.LATEST_PRICE</code></li><li>指定价 - <code>xtconstant.FIX_PRICE</code></li><li>郑商所 期货 <ul><li>市价最优价 - <code>xtconstant.MARKET_BEST</code></li></ul></li><li>大商所 期货 <ul><li>市价即成剩撤 - <code>xtconstant.MARKET_CANCEL</code></li><li>市价全额成交或撤 - <code>xtconstant.MARKET_CANCEL_ALL</code></li></ul></li><li>中金所 期货 <ul><li>市价最优一档即成剩撤 - <code>xtconstant.MARKET_CANCEL_1</code></li><li>市价最优五档即成剩撤 - <code>xtconstant.MARKET_CANCEL_5</code></li><li>市价最优一档即成剩转 - <code>xtconstant.MARKET_CONVERT_1</code></li><li>市价最优五档即成剩转 - <code>xtconstant.MARKET_CONVERT_5</code></li></ul></li><li>上交所 股票 <ul><li>最优五档即时成交剩余撤销 - <code>xtconstant.MARKET_SH_CONVERT_5_CANCEL</code></li><li>最优五档即时成交剩转限价 - <code>xtconstant.MARKET_SH_CONVERT_5_LIMIT</code></li><li>对手方最优价格委托 - <code>xtconstant.MARKET_PEER_PRICE_FIRST</code></li><li>本方最优价格委托 - <code>xtconstant.MARKET_MINE_PRICE_FIRST</code></li></ul></li><li>深交所 股票 期权 <ul><li>对手方最优价格委托 - <code>xtconstant.MARKET_PEER_PRICE_FIRST</code></li><li>本方最优价格委托 - <code>xtconstant.MARKET_MINE_PRICE_FIRST</code></li><li>即时成交剩余撤销委托 - <code>xtconstant.MARKET_SZ_INSTBUSI_RESTCANCEL</code></li><li>最优五档即时成交剩余撤销 - <code>xtconstant.MARKET_SZ_CONVERT_5_CANCEL</code></li><li>全额成交或撤销委托 - <code>xtconstant.MARKET_SZ_FULL_OR_CANCEL</code></li></ul></li></ul><h3 id="委托状态-order-status" tabindex="-1"><a class="header-anchor" href="#委托状态-order-status" aria-hidden="true">#</a> 委托状态(order_status)</h3><table><thead><tr><th>枚举变量名</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>xtconstant.ORDER_UNREPORTED</td><td>48</td><td>未报</td></tr><tr><td>xtconstant.ORDER_WAIT_REPORTING</td><td>49</td><td>待报</td></tr><tr><td>xtconstant.ORDER_REPORTED</td><td>50</td><td>已报</td></tr><tr><td>xtconstant.ORDER_REPORTED_CANCEL</td><td>51</td><td>已报待撤</td></tr><tr><td>xtconstant.ORDER_PARTSUCC_CANCEL</td><td>52</td><td>部成待撤</td></tr><tr><td>xtconstant.ORDER_PART_CANCEL</td><td>53</td><td>部撤</td></tr><tr><td>xtconstant.ORDER_CANCELED</td><td>54</td><td>已撤</td></tr><tr><td>xtconstant.ORDER_PART_SUCC</td><td>55</td><td>部成</td></tr><tr><td>xtconstant.ORDER_SUCCEEDED</td><td>56</td><td>已成</td></tr><tr><td>xtconstant.ORDER_JUNK</td><td>57</td><td>废单</td></tr><tr><td>xtconstant.ORDER_UNKNOWN</td><td>255</td><td>未知</td></tr></tbody></table><h3 id="账号状态-account-status" tabindex="-1"><a class="header-anchor" href="#账号状态-account-status" aria-hidden="true">#</a> 账号状态(account_status)</h3><table><thead><tr><th>枚举变量名</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>xtconstant.ACCOUNT_STATUS_INVALID</td><td>-1</td><td>无效</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_OK</td><td>0</td><td>正常</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_WAITING_LOGIN</td><td>1</td><td>连接中</td></tr><tr><td>xtconstant.ACCOUNT_STATUSING</td><td>2</td><td>登陆中</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_FAIL</td><td>3</td><td>失败</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_INITING</td><td>4</td><td>初始化中</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_CORRECTING</td><td>5</td><td>数据刷新校正中</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_CLOSED</td><td>6</td><td>收盘后</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_ASSIS_FAIL</td><td>7</td><td>穿透副链接断开</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_DISABLEBYSYS</td><td>8</td><td>系统停用（总线使用-密码错误超限）</td></tr><tr><td>xtconstant.ACCOUNT_STATUS_DISABLEBYUSER</td><td>9</td><td>用户停用（总线使用）</td></tr></tbody></table><h3 id="划拨方向-transfer-direction" tabindex="-1"><a class="header-anchor" href="#划拨方向-transfer-direction" aria-hidden="true">#</a> 划拨方向(transfer_direction)</h3><table><thead><tr><th>枚举变量名</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>xtconstant.FUNDS_TRANSFER_NORMAL_TO_SPEED</td><td>510</td><td>资金划拨-普通柜台到极速柜台</td></tr><tr><td>xtconstant.FUNDS_TRANSFER_SPEED_TO_NORMAL</td><td>511</td><td>资金划拨-极速柜台到普通柜台</td></tr><tr><td>xtconstant.NODE_FUNDS_TRANSFER_SH_TO_SZ</td><td>512</td><td>节点资金划拨-上海节点到深圳节点</td></tr><tr><td>xtconstant.NODE_FUNDS_TRANSFER_SZ_TO_SH</td><td>513</td><td>节点资金划拨-深圳节点到上海节点</td></tr></tbody></table><h3 id="多空方向-direction" tabindex="-1"><a class="header-anchor" href="#多空方向-direction" aria-hidden="true">#</a> 多空方向(direction)</h3><table><thead><tr><th>枚举变量名</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>xtconstant.DIRECTION_FLAG_LONG</td><td>48</td><td>多</td></tr><tr><td>xtconstant.DIRECTION_FLAG_SHORT</td><td>49</td><td>空</td></tr></tbody></table><h3 id="交易操作-offset-flag" tabindex="-1"><a class="header-anchor" href="#交易操作-offset-flag" aria-hidden="true">#</a> 交易操作(offset_flag)</h3><table><thead><tr><th>枚举变量名</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>xtconstant.OFFSET_FLAG_OPEN</td><td>48</td><td>买入，开仓</td></tr><tr><td>xtconstant.OFFSET_FLAG_CLOSE</td><td>49</td><td>卖出，平仓</td></tr><tr><td>xtconstant.OFFSET_FLAG_FORCECLOSE</td><td>50</td><td>强平</td></tr><tr><td>xtconstant.OFFSET_FLAG_CLOSETODAY</td><td>51</td><td>平今</td></tr><tr><td>xtconstant.OFFSET_FLAG_ClOSEYESTERDAY</td><td>52</td><td>平昨</td></tr><tr><td>xtconstant.OFFSET_FLAG_FORCEOFF</td><td>53</td><td>强减</td></tr><tr><td>xtconstant.OFFSET_FLAG_LOCALFORCECLOSE</td><td>54</td><td>本地强平</td></tr></tbody></table><h3 id="xtquant数据结构说明" tabindex="-1"><a class="header-anchor" href="#xtquant数据结构说明" aria-hidden="true">#</a> XtQuant数据结构说明</h3><h3 id="资产xtasset" tabindex="-1"><a class="header-anchor" href="#资产xtasset" aria-hidden="true">#</a> 资产XtAsset</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>cash</td><td>float</td><td>可用金额</td></tr><tr><td>frozen_cash</td><td>float</td><td>冻结金额</td></tr><tr><td>market_value</td><td>float</td><td>持仓市值</td></tr><tr><td>total_asset</td><td>float</td><td>总资产</td></tr></tbody></table><h3 id="委托xtorder" tabindex="-1"><a class="header-anchor" href="#委托xtorder" aria-hidden="true">#</a> 委托XtOrder</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>stock_code</td><td>str</td><td>证券代码，例如&quot;600000.SH&quot;</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>order_sysid</td><td>str</td><td>柜台合同编号</td></tr><tr><td>order_time</td><td>int</td><td>报单时间</td></tr><tr><td>order_type</td><td>int</td><td>委托类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B-order-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>order_volume</td><td>int</td><td>委托数量</td></tr><tr><td>price_type</td><td>int</td><td>报价类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%8A%A5%E4%BB%B7%E7%B1%BB%E5%9E%8B-price-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>price</td><td>float</td><td>委托价格</td></tr><tr><td>traded_volume</td><td>int</td><td>成交数量</td></tr><tr><td>traded_price</td><td>float</td><td>成交均价</td></tr><tr><td>order_status</td><td>int</td><td>委托状态，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A7%94%E6%89%98%E7%8A%B6%E6%80%81-order-status" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>status_msg</td><td>str</td><td>委托状态描述，如废单原因</td></tr><tr><td>strategy_name</td><td>str</td><td>策略名称</td></tr><tr><td>order_remark</td><td>str</td><td>委托备注</td></tr><tr><td>direction</td><td>int</td><td>多空方向，股票不适用；参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A4%9A%E7%A9%BA%E6%96%B9%E5%90%91-direction" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>offset_flag</td><td>int</td><td>交易操作，用此字段区分股票买卖，期货开、平仓，期权买卖等；参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E4%BA%A4%E6%98%93%E6%93%8D%E4%BD%9C-offset-flag" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr></tbody></table><h3 id="成交xttrade" tabindex="-1"><a class="header-anchor" href="#成交xttrade" aria-hidden="true">#</a> 成交XtTrade</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>stock_code</td><td>str</td><td>证券代码</td></tr><tr><td>order_type</td><td>int</td><td>委托类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B-order-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>traded_id</td><td>str</td><td>成交编号</td></tr><tr><td>traded_time</td><td>int</td><td>成交时间</td></tr><tr><td>traded_price</td><td>float</td><td>成交均价</td></tr><tr><td>traded_volume</td><td>int</td><td>成交数量</td></tr><tr><td>traded_amount</td><td>float</td><td>成交金额</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>order_sysid</td><td>str</td><td>柜台合同编号</td></tr><tr><td>strategy_name</td><td>str</td><td>策略名称</td></tr><tr><td>order_remark</td><td>str</td><td>委托备注</td></tr><tr><td>direction</td><td>int</td><td>多空方向，股票不适用；参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A4%9A%E7%A9%BA%E6%96%B9%E5%90%91-direction" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>offset_flag</td><td>int</td><td>交易操作，用此字段区分股票买卖，期货开、平仓，期权买卖等；参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E4%BA%A4%E6%98%93%E6%93%8D%E4%BD%9C-offset-flag" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr></tbody></table><h3 id="持仓xtposition" tabindex="-1"><a class="header-anchor" href="#持仓xtposition" aria-hidden="true">#</a> 持仓XtPosition</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>stock_code</td><td>str</td><td>证券代码</td></tr><tr><td>volume</td><td>int</td><td>持仓数量</td></tr><tr><td>can_use_volume</td><td>int</td><td>可用数量</td></tr><tr><td>open_price</td><td>float</td><td>开仓价</td></tr><tr><td>market_value</td><td>float</td><td>市值</td></tr><tr><td>frozen_volume</td><td>int</td><td>冻结数量</td></tr><tr><td>on_road_volume</td><td>int</td><td>在途股份</td></tr><tr><td>yesterday_volume</td><td>int</td><td>昨夜拥股</td></tr><tr><td>avg_price</td><td>float</td><td>成本价</td></tr><tr><td>direction</td><td>int</td><td>多空方向，股票不适用；参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A4%9A%E7%A9%BA%E6%96%B9%E5%90%91-direction" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr></tbody></table><h3 id="异步下单委托反馈xtorderresponse" tabindex="-1"><a class="header-anchor" href="#异步下单委托反馈xtorderresponse" aria-hidden="true">#</a> 异步下单委托反馈XtOrderResponse</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>strategy_name</td><td>str</td><td>策略名称</td></tr><tr><td>order_remark</td><td>str</td><td>委托备注</td></tr><tr><td>seq</td><td>int</td><td>异步下单的请求序号</td></tr></tbody></table><h3 id="异步撤单委托反馈xtcancelorderresponse" tabindex="-1"><a class="header-anchor" href="#异步撤单委托反馈xtcancelorderresponse" aria-hidden="true">#</a> 异步撤单委托反馈XtCancelOrderResponse</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>order_sysid</td><td>str</td><td>柜台委托编号</td></tr><tr><td>cancel_result</td><td>int</td><td>撤单结果</td></tr><tr><td>seq</td><td>int</td><td>异步撤单的请求序号</td></tr></tbody></table><h3 id="下单失败错误xtordererror" tabindex="-1"><a class="header-anchor" href="#下单失败错误xtordererror" aria-hidden="true">#</a> 下单失败错误XtOrderError</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>error_id</td><td>int</td><td>下单失败错误码</td></tr><tr><td>error_msg</td><td>str</td><td>下单失败具体信息</td></tr><tr><td>strategy_name</td><td>str</td><td>策略名称</td></tr><tr><td>order_remark</td><td>str</td><td>委托备注</td></tr></tbody></table><h3 id="撤单失败错误xtcancelerror" tabindex="-1"><a class="header-anchor" href="#撤单失败错误xtcancelerror" aria-hidden="true">#</a> 撤单失败错误XtCancelError</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>order_id</td><td>int</td><td>订单编号</td></tr><tr><td>market</td><td>int</td><td>交易市场 0:上海 1:深圳</td></tr><tr><td>order_sysid</td><td>str</td><td>柜台委托编号</td></tr><tr><td>error_id</td><td>int</td><td>下单失败错误码</td></tr><tr><td>error_msg</td><td>str</td><td>下单失败具体信息</td></tr></tbody></table><h3 id="信用账号资产xtcreditdetail" tabindex="-1"><a class="header-anchor" href="#信用账号资产xtcreditdetail" aria-hidden="true">#</a> 信用账号资产XtCreditDetail</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>m_nStatus</td><td>int</td><td>账号状态</td></tr><tr><td>m_nUpdateTime</td><td>int</td><td>更新时间</td></tr><tr><td>m_nCalcConfig</td><td>int</td><td>计算参数</td></tr><tr><td>m_dFrozenCash</td><td>float</td><td>冻结金额</td></tr><tr><td>m_dBalance</td><td>float</td><td>总资产</td></tr><tr><td>m_dAvailable</td><td>float</td><td>可用金额</td></tr><tr><td>m_dPositionProfit</td><td>float</td><td>持仓盈亏</td></tr><tr><td>m_dMarketValue</td><td>float</td><td>总市值</td></tr><tr><td>m_dFetchBalance</td><td>float</td><td>可取金额</td></tr><tr><td>m_dStockValue</td><td>float</td><td>股票市值</td></tr><tr><td>m_dFundValue</td><td>float</td><td>基金市值</td></tr><tr><td>m_dTotalDebt</td><td>float</td><td>总负债</td></tr><tr><td>m_dEnableBailBalance</td><td>float</td><td>可用保证金</td></tr><tr><td>m_dPerAssurescaleValue</td><td>float</td><td>维持担保比例</td></tr><tr><td>m_dAssureAsset</td><td>float</td><td>净资产</td></tr><tr><td>m_dFinDebt</td><td>float</td><td>融资负债</td></tr><tr><td>m_dFinDealAvl</td><td>float</td><td>融资本金</td></tr><tr><td>m_dFinFee</td><td>float</td><td>融资息费</td></tr><tr><td>m_dSloDebt</td><td>float</td><td>融券负债</td></tr><tr><td>m_dSloMarketValue</td><td>float</td><td>融券市值</td></tr><tr><td>m_dSloFee</td><td>float</td><td>融券息费</td></tr><tr><td>m_dOtherFare</td><td>float</td><td>其它费用</td></tr><tr><td>m_dFinMaxQuota</td><td>float</td><td>融资授信额度</td></tr><tr><td>m_dFinEnableQuota</td><td>float</td><td>融资可用额度</td></tr><tr><td>m_dFinUsedQuota</td><td>float</td><td>融资冻结额度</td></tr><tr><td>m_dSloMaxQuota</td><td>float</td><td>融券授信额度</td></tr><tr><td>m_dSloEnableQuota</td><td>float</td><td>融券可用额度</td></tr><tr><td>m_dSloUsedQuota</td><td>float</td><td>融券冻结额度</td></tr><tr><td>m_dSloSellBalance</td><td>float</td><td>融券卖出资金</td></tr><tr><td>m_dUsedSloSellBalance</td><td>float</td><td>已用融券卖出资金</td></tr><tr><td>m_dSurplusSloSellBalance</td><td>float</td><td>剩余融券卖出资金</td></tr></tbody></table><h3 id="负债合约stkcompacts" tabindex="-1"><a class="header-anchor" href="#负债合约stkcompacts" aria-hidden="true">#</a> 负债合约StkCompacts</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>compact_type</td><td>int</td><td>合约类型</td></tr><tr><td>cashgroup_prop</td><td>int</td><td>头寸来源</td></tr><tr><td>exchange_id</td><td>int</td><td>证券市场</td></tr><tr><td>open_date</td><td>int</td><td>开仓日期</td></tr><tr><td>business_vol</td><td>int</td><td>合约证券数量</td></tr><tr><td>real_compact_vol</td><td>int</td><td>未还合约数量</td></tr><tr><td>ret_end_date</td><td>int</td><td>到期日</td></tr><tr><td>business_balance</td><td>float</td><td>合约金额</td></tr><tr><td>businessFare</td><td>float</td><td>合约息费</td></tr><tr><td>real_compact_balance</td><td>float</td><td>未还合约金额</td></tr><tr><td>real_compact_fare</td><td>float</td><td>未还合约息费</td></tr><tr><td>repaid_fare</td><td>float</td><td>已还息费</td></tr><tr><td>repaid_balance</td><td>float</td><td>已还金额</td></tr><tr><td>instrument_id</td><td>str</td><td>证券代码</td></tr><tr><td>compact_id</td><td>str</td><td>合约编号</td></tr><tr><td>position_str</td><td>str</td><td>定位串</td></tr></tbody></table><h3 id="融资融券标的creditsubjects" tabindex="-1"><a class="header-anchor" href="#融资融券标的creditsubjects" aria-hidden="true">#</a> 融资融券标的CreditSubjects</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>slo_status</td><td>int</td><td>融券状态</td></tr><tr><td>fin_status</td><td>int</td><td>融资状态</td></tr><tr><td>exchange_id</td><td>int</td><td>证券市场</td></tr><tr><td>slo_ratio</td><td>float</td><td>融券保证金比例</td></tr><tr><td>fin_ratio</td><td>float</td><td>融资保证金比例</td></tr><tr><td>instrument_id</td><td>str</td><td>证券代码</td></tr></tbody></table><h3 id="可融券数据creditslocode" tabindex="-1"><a class="header-anchor" href="#可融券数据creditslocode" aria-hidden="true">#</a> 可融券数据CreditSloCode</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>cashgroup_prop</td><td>int</td><td>头寸来源</td></tr><tr><td>exchange_id</td><td>int</td><td>证券市场</td></tr><tr><td>enable_amount</td><td>int</td><td>融券可融数量</td></tr><tr><td>instrument_id</td><td>str</td><td>证券代码</td></tr></tbody></table><h3 id="标的担保品creditassure" tabindex="-1"><a class="header-anchor" href="#标的担保品creditassure" aria-hidden="true">#</a> 标的担保品CreditAssure</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>assure_status</td><td>int</td><td>是否可做担保</td></tr><tr><td>exchange_id</td><td>int</td><td>证券市场</td></tr><tr><td>assure_ratio</td><td>float</td><td>担保品折算比例</td></tr><tr><td>instrument_id</td><td>str</td><td>证券代码</td></tr></tbody></table><h3 id="账号状态xtaccountstatus" tabindex="-1"><a class="header-anchor" href="#账号状态xtaccountstatus" aria-hidden="true">#</a> 账号状态XtAccountStatus</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>status</td><td>int</td><td>账号状态，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%8A%B6%E6%80%81-account-status" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr></tbody></table><h3 id="账号信息xtaccountinfo" tabindex="-1"><a class="header-anchor" href="#账号信息xtaccountinfo" aria-hidden="true">#</a> 账号信息XtAccountInfo</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>account_type</td><td>int</td><td>账号类型，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B-account-type" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr><tr><td>account_id</td><td>str</td><td>资金账号</td></tr><tr><td>broker_type</td><td>int</td><td>同 account_type</td></tr><tr><td>platform_id</td><td>int</td><td>平台号</td></tr><tr><td>account_classification</td><td>int</td><td>账号分类</td></tr><tr><td>login_status</td><td>int</td><td>账号状态，参见<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%8A%B6%E6%80%81-account-status" target="_blank" rel="noopener noreferrer">数据字典<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></td></tr></tbody></table><h3 id="约券相关异步接口的反馈xtsmtappointmentresponse" tabindex="-1"><a class="header-anchor" href="#约券相关异步接口的反馈xtsmtappointmentresponse" aria-hidden="true">#</a> 约券相关异步接口的反馈XtSmtAppointmentResponse</h3><table><thead><tr><th>属性</th><th>类型</th><th>注释</th></tr></thead><tbody><tr><td>seq</td><td>int</td><td>异步请求序号</td></tr><tr><td>success</td><td>bool</td><td>申请是否成功</td></tr><tr><td>msg</td><td>str</td><td>反馈信息</td></tr><tr><td>apply_id</td><td>str</td><td>若申请成功返回资券申请编号，否则返回-1</td></tr></tbody></table><h2 id="xtquant-api说明" tabindex="-1"><a class="header-anchor" href="#xtquant-api说明" aria-hidden="true">#</a> XtQuant API说明</h2><h3 id="系统设置接口" tabindex="-1"><a class="header-anchor" href="#系统设置接口" aria-hidden="true">#</a> 系统设置接口</h3><h4 id="创建api实例" tabindex="-1"><a class="header-anchor" href="#创建api实例" aria-hidden="true">#</a> 创建API实例</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">XtQuantTrader(path, session_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>创建XtQuant API的实例</li></ul></li><li>参数 <ul><li>path - str MiniQMT客户端userdata_mini的完整路径</li><li>session_id - int 与MiniQMT通信的会话ID，不同的会话要保证不重</li></ul></li><li>返回 <ul><li>XtQuant API实例对象</li></ul></li><li>备注 <ul><li>后续对XtQuant API的操作都需要该实例对象</li><li>通常情况下只需要创建一个XtQuant API实例</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">path </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">D:</span><span style="color:#FF79C6;">\\</span><span style="color:#F1FA8C;">交易终端</span><span style="color:#FF79C6;">\\</span><span style="color:#F1FA8C;">userdata_mini</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#6272A4;"># session_id为会话编号，策略使用方对于不同的Python策略需要使用不同的会话编号</span></span>
<span class="line"><span style="color:#F8F8F2;">session_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">123456</span></span>
<span class="line"><span style="color:#6272A4;">#后续的所有示例将使用该实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">xt_trader </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> XtQuantTrader(path, session_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="注册回调类" tabindex="-1"><a class="header-anchor" href="#注册回调类" aria-hidden="true">#</a> 注册回调类</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">register_callback(callback)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>将回调类实例对象注册到API实例中，用以消息回调和主推</li></ul></li><li>参数 <ul><li>callback - XtQuantTraderCallback 回调类实例对象</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># 创建交易回调类对象，并声明接收回调</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">MyXtQuantTraderCallback</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">XtQuantTraderCallback</span><span style="color:#F8F8F2;">)：</span></span>
<span class="line"><span style="color:#F8F8F2;">	...</span></span>
<span class="line"><span style="color:#F8F8F2;">	</span><span style="color:#FF79C6;">pass</span></span>
<span class="line"><span style="color:#8BE9FD;">callback</span><span style="color:#F8F8F2;"> = </span><span style="color:#8BE9FD;">MyXtQuantTraderCallback</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">#</span><span style="color:#8BE9FD;">xt_trader为XtQuant</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">API实例对象</span></span>
<span class="line"><span style="color:#8BE9FD;">xt_trader</span><span style="color:#F8F8F2;">.</span><span style="color:#8BE9FD;">register_callback</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">callback</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="准备api环境" tabindex="-1"><a class="header-anchor" href="#准备api环境" aria-hidden="true">#</a> 准备API环境</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">start()</span></span>
<span class="line"><span style="color:#F8F8F2;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>启动交易线程，准备交易所需的环境</li></ul></li><li>参数 <ul><li>无</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># 启动交易线程</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">xt_trader.start()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="创建连接" tabindex="-1"><a class="header-anchor" href="#创建连接" aria-hidden="true">#</a> 创建连接</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">connect()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>连接MiniQMT</li></ul></li><li>参数 <ul><li>无</li></ul></li><li>返回 <ul><li>连接结果信息，连接成功返回0，失败返回非0</li></ul></li><li>备注 <ul><li>该连接为一次性连接，断开连接后不会重连，需要再次主动调用</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># 建立交易连接，返回0表示连接成功</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">connect_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.connect()</span></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(connect_result)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="停止运行" tabindex="-1"><a class="header-anchor" href="#停止运行" aria-hidden="true">#</a> 停止运行</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">stop()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>停止API接口</li></ul></li><li>参数 <ul><li>无</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">xt_trader.stop()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="阻塞当前线程进入等待状态" tabindex="-1"><a class="header-anchor" href="#阻塞当前线程进入等待状态" aria-hidden="true">#</a> 阻塞当前线程进入等待状态</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">run_forever()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>阻塞当前线程，进入等待状态，直到stop函数被调用结束阻塞</li></ul></li><li>参数 <ul><li>无</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">xt_trader.run_forever()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="开启主动请求接口的专用线程" tabindex="-1"><a class="header-anchor" href="#开启主动请求接口的专用线程" aria-hidden="true">#</a> 开启主动请求接口的专用线程</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">set_relaxed_response_order_enabled(enabled)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>释义</p><ul><li>控制主动请求接口的返回是否从额外的专用线程返回，以获得宽松的数据时序</li></ul></li><li><p>参数</p><ul><li>enabled - bool 是否开启，默认为False关闭</li></ul></li><li><p>返回</p><ul><li>无</li></ul></li><li><p>备注</p><ul><li><p>如果开启，在on_stock_order等推送回调中调用同步请求不会卡住，但查询和推送的数据在时序上会变得不确定</p></li><li><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">timeline 	t1		t2		t3		t4</span></span>
<span class="line"><span style="color:#F8F8F2;">callback	push1	push2	push3	resp4</span></span>
<span class="line"><span style="color:#F8F8F2;">do 			query4 ------------------^</span></span>
<span class="line"><span style="color:#F8F8F2;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>例如：分别在t1 t2 t3时刻到达三条委托数据，在on_push1中调用同步委托查询接口query_orders()</p></li><li><p>未开启宽松时序时，查询返回resp4会在t4时刻排队到push3完成之后处理，这使得同步等待结果的查询不能返回而卡住执行</p></li><li><p>开启宽松时序时，查询返回的resp4由专用线程返回，程序正常执行，但此时查到的resp4是push3之后的状态，也就是说resp4中的委托要比push2 push3这两个前一时刻推送的数据新，但在更早的t1时刻就进入了处理</p></li><li><p>使用中请根据策略实际情况来开启，通常情况下，推荐在on_stock_order等推送回调中使用查询接口的异步版本，如<code>query_stock_orders_async</code></p></li></ul></li></ul><h3 id="操作接口" tabindex="-1"><a class="header-anchor" href="#操作接口" aria-hidden="true">#</a> 操作接口</h3><h4 id="订阅账号信息" tabindex="-1"><a class="header-anchor" href="#订阅账号信息" aria-hidden="true">#</a> 订阅账号信息</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">subscribe(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>订阅账号信息，包括资金账号、委托信息、成交信息、持仓信息</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>订阅结果信息，订阅成功返回0，订阅失败返回-1</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例 <ul><li>订阅资金账号1000000365</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">subscribe_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.subscribe(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="反订阅账号信息" tabindex="-1"><a class="header-anchor" href="#反订阅账号信息" aria-hidden="true">#</a> 反订阅账号信息</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">unsubscribe(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>反订阅账号信息</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>反订阅结果信息，订阅成功返回0，订阅失败返回-1</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例 <ul><li>订阅资金账号1000000365</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">unsubscribe_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.unsubscribe(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票同步报单" tabindex="-1"><a class="header-anchor" href="#股票同步报单" aria-hidden="true">#</a> 股票同步报单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">order_stock(account, stock_code, order_type, order_volume, price_type, price, strategy_name, order_remark)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>对股票进行下单操作</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>stock_code - str 证券代码，如&#39;600000.SH&#39;</li><li>order_type - int 委托类型</li><li>order_volume - int 委托数量，股票以&#39;股&#39;为单位，债券以&#39;张&#39;为单位</li><li>price_type - int 报价类型</li><li>price - float 委托价格</li><li>strategy_name - str 策略名称</li><li>order_remark - str 委托备注</li></ul></li><li>返回 <ul><li>系统生成的订单编号，成功委托后的订单编号为大于0的正整数，如果为-1表示委托失败</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对浦发银行买入1000股，使用限价价格10.5元, 委托备注为&#39;order_test&#39;</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">order_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.order_stock(account, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">600000.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">STOCK_BUY</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1000</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">FIX_PRICE</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10.5</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">strategy1</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">order_test</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票异步报单" tabindex="-1"><a class="header-anchor" href="#股票异步报单" aria-hidden="true">#</a> 股票异步报单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">order_stock_async(account, stock_code, order_type, order_volume, price_type, price, strategy_name, order_remark)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>对股票进行异步下单操作，异步下单接口如果正常返回了下单请求序号seq，会收到on_order_stock_async_response的委托反馈</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>stock_code - str 证券代码， 如&#39;600000.SH&#39;</li><li>order_type - int 委托类型</li><li>order_volume - int 委托数量，股票以&#39;股&#39;为单位，债券以&#39;张&#39;为单位</li><li>price_type - int 报价类型</li><li>price - float 委托价格</li><li>strategy_name - str 策略名称</li><li>order_remark - str 委托备注</li></ul></li><li>返回 <ul><li>返回下单请求序号seq，成功委托后的下单请求序号为大于0的正整数，如果为-1表示委托失败</li></ul></li><li>备注 <ul><li>如果失败，则通过下单失败主推接口返回下单失败信息</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对浦发银行买入1000股，使用限价价格10.5元，委托备注为&#39;order_test&#39;</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">seq </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.order_stock_async(account, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">600000.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">STOCK_BUY</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1000</span><span style="color:#F8F8F2;">, xtconstant.</span><span style="color:#BD93F9;">FIX_PRICE</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10.5</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">strategy1</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">order_test</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票同步撤单" tabindex="-1"><a class="header-anchor" href="#股票同步撤单" aria-hidden="true">#</a> 股票同步撤单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">cancel_order_stock(account, order_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>根据订单编号对委托进行撤单操作</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>order_id - int 同步下单接口返回的订单编号</li></ul></li><li>返回 <ul><li>返回是否成功发出撤单指令，0: 成功, -1: 表示撤单失败</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对订单编号为order_id的委托进行撤单</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">order_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">cancel_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.cancel_order_stock(account, order_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票同步撤单-1" tabindex="-1"><a class="header-anchor" href="#股票同步撤单-1" aria-hidden="true">#</a> 股票同步撤单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">cancel_order_stock_sysid(account, market, order_sysid)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>根据券商柜台返回的合同编号对委托进行撤单操作</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>market - int 交易市场</li><li>order_sysid - str 券商柜台的合同编号</li></ul></li><li>返回 <ul><li>返回是否成功发出撤单指令，0: 成功， -1: 表示撤单失败</li></ul></li><li>备注 <ul><li>无</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对柜台合同编号为order_sysid的上交所委托进行撤单</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">market </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtconstant.</span><span style="color:#BD93F9;">SH_MARKET</span></span>
<span class="line"><span style="color:#F8F8F2;">order_sysid </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">cancel_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.cancel_order_stock_sysid(account, market, order_sysid)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票异步撤单" tabindex="-1"><a class="header-anchor" href="#股票异步撤单" aria-hidden="true">#</a> 股票异步撤单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">cancel_order_stock_async(account, order_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>根据订单编号对委托进行异步撤单操作</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>order_id - int 下单接口返回的订单编号</li></ul></li><li>返回 <ul><li>返回撤单请求序号, 成功委托后的撤单请求序号为大于0的正整数, 如果为-1表示委托失败</li></ul></li><li>备注 <ul><li>如果失败，则通过撤单失败主推接口返回撤单失败信息</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对订单编号为order_id的委托进行异步撤单</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">order_id </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">100</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">cancel_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.cancel_order_stock_async(account, order_id)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="股票异步撤单-1" tabindex="-1"><a class="header-anchor" href="#股票异步撤单-1" aria-hidden="true">#</a> 股票异步撤单</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">cancel_order_stock_sysid_async(account, market, order_sysid)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>根据券商柜台返回的合同编号对委托进行异步撤单操作</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>market - int 交易市场</li><li>order_sysid - str 券商柜台的合同编号</li></ul></li><li>返回 <ul><li>返回撤单请求序号, 成功委托后的撤单请求序号为大于0的正整数, 如果为-1表示委托失败</li></ul></li><li>备注 <ul><li>如果失败，则通过撤单失败主推接口返回撤单失败信息</li></ul></li><li>示例 <ul><li>股票资金账号1000000365对柜台合同编号为order_sysid的上交所委托进行异步撤单</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">market </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtconstant.</span><span style="color:#BD93F9;">SH_MARKET</span></span>
<span class="line"><span style="color:#F8F8F2;">order_sysid </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">cancel_result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.cancel_order_stock_sysid_async(account, market, order_sysid)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="资金划拨" tabindex="-1"><a class="header-anchor" href="#资金划拨" aria-hidden="true">#</a> 资金划拨</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">fund_transfer(account, transfer_direction, price)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>资金划拨</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>transfer_direction - int 划拨方向，见数据字典划拨方向(transfer_direction)字段说明</li><li>price - float 划拨金额</li></ul></li><li>返回 <ul><li>(success, msg) <ul><li>success - bool 划拨操作是否成功</li><li>msg - str 反馈信息</li></ul></li></ul></li></ul><h3 id="股票查询接口" tabindex="-1"><a class="header-anchor" href="#股票查询接口" aria-hidden="true">#</a> 股票查询接口</h3><h4 id="资产查询" tabindex="-1"><a class="header-anchor" href="#资产查询" aria-hidden="true">#</a> 资产查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_stock_asset(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的资产</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账号对应的资产对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B5%84%E4%BA%A7xtasset" target="_blank" rel="noopener noreferrer">XtAsset<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>或者None</li></ul></li><li>备注 <ul><li>返回None表示查询失败</li></ul></li><li>示例 <ul><li>查询股票资金账号1000000365对应的资产数据</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">asset </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_asset(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="委托查询" tabindex="-1"><a class="header-anchor" href="#委托查询" aria-hidden="true">#</a> 委托查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_stock_orders(account, </span><span style="color:#FFB86C;font-style:italic;">cancelable_only</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">False</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的当日所有委托</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li><li>cancelable_only - bool 仅查询可撤委托</li></ul></li><li>返回 <ul><li>该账号对应的当日所有委托对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A7%94%E6%89%98xtorder" target="_blank" rel="noopener noreferrer">XtOrder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者当日委托列表为空</li></ul></li><li>示例 <ul><li>查询股票资金账号1000000365对应的当日所有委托</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">orders </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_orders(account, </span><span style="color:#BD93F9;">False</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="成交查询" tabindex="-1"><a class="header-anchor" href="#成交查询" aria-hidden="true">#</a> 成交查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_stock_trades(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的当日所有成交</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账号对应的当日所有成交对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%88%90%E4%BA%A4xttrade" target="_blank" rel="noopener noreferrer">XtTrade<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者当日成交列表为空</li></ul></li><li>示例 <ul><li>查询股票资金账号1000000365对应的当日所有成交</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">trades </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_trades(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="持仓查询" tabindex="-1"><a class="header-anchor" href="#持仓查询" aria-hidden="true">#</a> 持仓查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_stock_positions(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的持仓</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账号对应的最新持仓对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%8C%81%E4%BB%93xtposition" target="_blank" rel="noopener noreferrer">XtPosition<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者当日持仓列表为空</li></ul></li><li>示例 <ul><li>查询股票资金账号1000000365对应的最新持仓</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000000365</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">positions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stock_positions(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="信用查询接口" tabindex="-1"><a class="header-anchor" href="#信用查询接口" aria-hidden="true">#</a> 信用查询接口</h3><h4 id="信用资产查询" tabindex="-1"><a class="header-anchor" href="#信用资产查询" aria-hidden="true">#</a> 信用资产查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_credit_detail(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询信用资金账号对应的资产</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该信用账户对应的资产对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E4%BF%A1%E7%94%A8%E8%B4%A6%E5%8F%B7%E8%B5%84%E4%BA%A7xtcreditdetail" target="_blank" rel="noopener noreferrer">XtCreditDetail<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败</li><li>通常情况下一个资金账号只有一个详细信息数据</li></ul></li><li>示例 <ul><li>查询信用资金账号1208970161对应的资产信息</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1208970161</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">datas </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_credit_detail(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="负债合约查询" tabindex="-1"><a class="header-anchor" href="#负债合约查询" aria-hidden="true">#</a> 负债合约查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_stk_compacts(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的负债合约</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账户对应的负债合约对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%9F%E5%80%BA%E5%90%88%E7%BA%A6stkcompacts" target="_blank" rel="noopener noreferrer">StkCompacts<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者负债合约列表为空</li></ul></li><li>示例 <ul><li>查询信用资金账号1208970161对应的负债合约</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1208970161</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">datas </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_stk_compacts(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="融资融券标的查询" tabindex="-1"><a class="header-anchor" href="#融资融券标的查询" aria-hidden="true">#</a> 融资融券标的查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_credit_subjects(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的融资融券标的</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账户对应的融资融券标的对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%9E%8D%E8%B5%84%E8%9E%8D%E5%88%B8%E6%A0%87%E7%9A%84creditsubjects" target="_blank" rel="noopener noreferrer">CreditSubjects<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者融资融券标的列表为空</li></ul></li><li>示例 <ul><li>查询信用资金账号1208970161对应的融资融券标的</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1208970161</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">datas </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_credit_subjects(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="可融券数据查询" tabindex="-1"><a class="header-anchor" href="#可融券数据查询" aria-hidden="true">#</a> 可融券数据查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_credit_slo_code(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的可融券数据</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>该账户对应的可融券数据对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%8F%AF%E8%9E%8D%E5%88%B8%E6%95%B0%E6%8D%AEcreditslocode" target="_blank" rel="noopener noreferrer">CreditSloCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul></li><li>备注 <ul><li>None表示查询失败或者可融券数据列表为空</li></ul></li><li>示例 <ul><li>查询信用资金账号1208970161对应的可融券数据</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1208970161</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">datas </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_credit_slo_code(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="标的担保品查询" tabindex="-1"><a class="header-anchor" href="#标的担保品查询" aria-hidden="true">#</a> 标的担保品查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_credit_assure(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询资金账号对应的标的担保品</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回</li></ul><ul><li>该账户对应的标的担保品对象<a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%A0%87%E7%9A%84%E6%8B%85%E4%BF%9D%E5%93%81creditassure" target="_blank" rel="noopener noreferrer">CreditAssure<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>组成的list或者None</li></ul><ul><li>备注 <ul><li>None表示查询失败或者标的担保品列表为空</li></ul></li><li>示例 <ul><li>查询信用资金账号1208970161对应的标的担保品</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1208970161</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">datas </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.query_credit_assure(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他查询接口" tabindex="-1"><a class="header-anchor" href="#其他查询接口" aria-hidden="true">#</a> 其他查询接口</h3><h4 id="新股申购额度查询" tabindex="-1"><a class="header-anchor" href="#新股申购额度查询" aria-hidden="true">#</a> 新股申购额度查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_new_purchase_limit(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>查询新股申购额度</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>dict 新股申购额度数据集 <ul><li>{ type1: number1, type2: number2, ... } <ul><li>type - str 品种类型 <ul><li><code>KCB</code> - 科创板，<code>SH</code> - 上海，<code>SZ</code> - 深圳</li></ul></li><li>number - int 可申购股数</li></ul></li></ul></li></ul></li><li>备注 <ul><li>数据仅代表股票申购额度，债券的申购额度固定10000张</li></ul></li></ul><h4 id="当日新股信息查询" tabindex="-1"><a class="header-anchor" href="#当日新股信息查询" aria-hidden="true">#</a> 当日新股信息查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_ipo_data()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>释义</p><ul><li>查询当日新股新债信息</li></ul></li><li><p>参数</p><ul><li>无</li></ul></li><li><p>返回</p><ul><li><p>dict 新股新债信息数据集</p><ul><li><p>{ stock1: info1, stock2: info2, ... }</p><ul><li>stock - str 品种代码，例如 &#39;301208.SZ&#39;</li><li>info - dict 新股信息 <ul><li>name - str 品种名称</li><li>type - str 品种类型 <ul><li><code>STOCK</code> - 股票，<code>BOND</code> - 债券</li></ul></li><li>minPurchaseNum / maxPurchaseNum - int 最小 / 最大申购额度 <ul><li>单位为股（股票）/ 张（债券）</li></ul></li><li>purchaseDate - str 申购日期</li><li>issuePrice - float 发行价</li></ul></li></ul></li><li><p>返回值示例</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">754810.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: {</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">name</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">丰山发债</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">type</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">BOND</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">maxPurchaseNum</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10000</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">minPurchaseNum</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">purchaseDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20220627</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">issuePrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">100.0</span><span style="color:#F8F8F2;">}, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">301208.SZ</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: {</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">name</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">中亦科技</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">type</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">STOCK</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">maxPurchaseNum</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">16500</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">minPurchaseNum</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">500</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">purchaseDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20220627</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">issuePrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">46.06</span><span style="color:#F8F8F2;">}}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul></li><li><p>备注</p><ul><li>无</li></ul></li></ul><h4 id="账号信息查询" tabindex="-1"><a class="header-anchor" href="#账号信息查询" aria-hidden="true">#</a> 账号信息查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_account_infos()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>释义</p><ul><li>查询所有资金账号</li></ul></li><li><p>参数</p><ul><li>无</li></ul></li><li><p>返回</p><ul><li><p>list 账号信息列表</p><ul><li>[ XtAccountInfo ]</li></ul></li></ul></li><li><p>备注</p><ul><li>无</li></ul></li></ul><h4 id="普通柜台资金查询" tabindex="-1"><a class="header-anchor" href="#普通柜台资金查询" aria-hidden="true">#</a> 普通柜台资金查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_com_fund(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>划拨业务查询普通柜台的资金</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>result - dict 资金信息，包含以下字段 <ul><li>success - bool</li><li>erro - str</li><li>currentBalance - double 当前余额</li><li>enableBalance - double 可用余额</li><li>fetchBalance - double 可取金额</li><li>interest - double 待入账利息</li><li>assetBalance - double 总资产</li><li>fetchCash - double 可取现金</li><li>marketValue - double 市值</li><li>debt - double 负债</li></ul></li></ul></li></ul><h4 id="普通柜台持仓查询" tabindex="-1"><a class="header-anchor" href="#普通柜台持仓查询" aria-hidden="true">#</a> 普通柜台持仓查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">query_com_position(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>划拨业务查询普通柜台的持仓</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>result - list 持仓信息列表[position1, position2, ...] <ul><li>position - dict 持仓信息，包含以下字段 <ul><li>success - bool</li><li>error - str</li><li>stockAccount - str 股东号</li><li>exchangeType - str 交易市场</li><li>stockCode - str 证券代码</li><li>stockName - str 证券名称</li><li>totalAmt - float 总量</li><li>enableAmount - float 可用量</li><li>lastPrice - float 最新价</li><li>costPrice - float 成本价</li><li>income - float 盈亏</li><li>incomeRate - float 盈亏比例</li><li>marketValue - float 市值</li><li>costBalance - float 成本总额</li><li>bsOnTheWayVol - int 买卖在途量</li><li>prEnableVol - int 申赎可用量</li></ul></li></ul></li></ul></li></ul><h3 id="约券相关接口" tabindex="-1"><a class="header-anchor" href="#约券相关接口" aria-hidden="true">#</a> 约券相关接口</h3><h4 id="券源行情查询" tabindex="-1"><a class="header-anchor" href="#券源行情查询" aria-hidden="true">#</a> 券源行情查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">smt_query_quoter(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>券源行情查询</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>result - list 券源信息列表[quoter1, quoter2, ...] <ul><li>quoter - dict 券源信息，包含以下字段 <ul><li>success - bool</li><li>error - str</li><li>finType - str 金融品种</li><li>stockType - str 证券类型</li><li>date - int 期限天数</li><li>code - str 证券代码</li><li>codeName - str 证券代码名称</li><li>exchangeType - str 市场</li><li>fsmpOccupedRate - float 资券占用利率</li><li>fineRate - float 罚息利率</li><li>fsmpreendRate - float 资券提前归还利率</li><li>usedRate - float 资券使用利率</li><li>unUusedRate - float 资券占用未使用利率</li><li>initDate - int 交易日期</li><li>endDate - int 到期日期</li><li>enableSloAmountT0 - float T+0可融券数量</li><li>enableSloAmountT3 - float T+3可融券数量</li><li>srcGroupId - str 来源组编号</li><li>applyMode - str 资券申请方式，&quot;1&quot;:库存券，&quot;2&quot;:专项券</li><li>lowDate - int 最低期限天数</li></ul></li></ul></li></ul></li></ul><h4 id="库存券约券申请" tabindex="-1"><a class="header-anchor" href="#库存券约券申请" aria-hidden="true">#</a> 库存券约券申请</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">smt_negotiate_order_async(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, account, src_group_id, order_code, date, amount, apply_rate, </span><span style="color:#FFB86C;font-style:italic;">dict_param</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">{})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>释义</p><ul><li>库存券约券申请的异步接口，异步接口如果正常返回了请求序号seq，会收到on_smt_appointment_async_response的反馈</li></ul></li><li><p>参数</p><ul><li>account - StockAccount 资金账号</li><li>src_group_id - str 来源组编号</li><li>order_code - str 证券代码，如&#39;600000.SH&#39;</li><li>date - int 期限天数</li><li>amount - int 委托数量</li><li>apply_rate - float 资券申请利率</li></ul><p>注：目前有如下参数通过一个可缺省的字典传递，键名与参数名称相同</p><ul><li>dict_param - dict 可缺省的字典参数 <ul><li>subFareRate - float 提前归还利率</li><li>fineRate - float 罚息利率</li></ul></li></ul></li><li><p>返回</p><ul><li>返回请求序号seq，成功发起申请后的请求序号为大于0的正整数，如果为-1表示发起申请失败</li></ul></li><li><p>示例</p></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">account </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> StockAccount(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1000008</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CREDIT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">dict_param </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">subFareRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span><span style="color:#BD93F9;">0.1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">fineRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span><span style="color:#BD93F9;">0.1</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">#xt_trader为XtQuant API实例对象</span></span>
<span class="line"><span style="color:#F8F8F2;">seq </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xt_trader.smt_negotiate_order_async(account, </span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">000001.SZ</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">7</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2</span><span style="color:#F8F8F2;">, dict_param)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="约券合约查询" tabindex="-1"><a class="header-anchor" href="#约券合约查询" aria-hidden="true">#</a> 约券合约查询</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">smt_query_compact(account)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>约券合约查询</li></ul></li><li>参数 <ul><li>account - StockAccount 资金账号</li></ul></li><li>返回 <ul><li>result - list 约券合约信息列表[compact1, compact2, ...] <ul><li>compact - dict 券源信息，包含以下字段 <ul><li>success - bool</li><li>error - str</li><li>createDate - int 创建日期</li><li>cashcompactId - str 头寸合约编号</li><li>oriCashcompactId - str 原头寸合约编号</li><li>applyId - str 资券申请编号</li><li>srcGroupId - str 来源组编号</li><li>comGroupId - str 资券组合编号</li><li>finType - str 金融品种</li><li>exchangeType - str 市场</li><li>code - str 证券代码</li><li>codeName - str 证券代码名称</li><li>date - int 期限天数</li><li>beginCompacAmount - float 期初合约数量</li><li>beginCompacBalance - float 期初合约金额</li><li>compacAmount - float 合约数量</li><li>compacBalance - float 合约金额</li><li>returnAmount - float 返还数量</li><li>returnBalance - float 返还金额</li><li>realBuyAmount - float 回报买入数量</li><li>fsmpOccupedRate - float 资券占用利率</li><li>compactInterest - float 合约利息金额</li><li>compactFineInterest - float 合约罚息金额</li><li>repaidInterest - float 已还利息</li><li>repaidFineInterest - float 归还罚息</li><li>fineRate - float 罚息利率</li><li>preendRate - float 资券提前归还利率</li><li>compactType - str 资券合约类型</li><li>postponeTimes - int 展期次数</li><li>compactStatus - str 资券合约状态，&quot;0&quot;:未归还，&quot;1&quot;:部分归还，&quot;2&quot;:提前了结，&quot;3&quot;:到期了结，&quot;4&quot;:逾期了结，&quot;5&quot;:逾期，&quot;9&quot;:已作废</li><li>lastInterestDate - int 上次结息日期</li><li>interestEndDate - int 记息结束日期</li><li>validDate - int 有效日期</li><li>dateClear - int 清算日期</li><li>usedAmount - float 已使用数量</li><li>usedBalance - float 使用金额</li><li>usedRate - float 资券使用利率</li><li>unUusedRate - float 资券占用未使用利率</li><li>srcGroupName - str 来源组名称</li><li>repaidDate - int 归还日期</li><li>preOccupedInterest - float 当日实际应收利息</li><li>compactInterestx - float 合约总利息</li><li>enPostponeAmount - float 可展期数量</li><li>postponeStatus - str 合约展期状态，&quot;0&quot;:未审核，&quot;1&quot;:审核通过，&quot;2&quot;:已撤销，&quot;3&quot;:审核不通过</li><li>applyMode - str 资券申请方式，&quot;1&quot;:库存券，&quot;2&quot;:专项券</li></ul></li></ul></li></ul></li></ul><h3 id="回调类" tabindex="-1"><a class="header-anchor" href="#回调类" aria-hidden="true">#</a> 回调类</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;">MyXtQuantTraderCallback</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">XtQuantTraderCallback</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_disconnected</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        连接状态回调</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">connection lost</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_account_status</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">status</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        账号状态信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param response: XtAccountStatus 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on_account_status</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(status.account_id, status.account_type, status.status)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_asset</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">asset</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        资金信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param asset: XtAsset对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on asset callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(asset.account_id, asset.cash, asset.total_asset)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_order</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">order</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        委托信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param order: XtOrder对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on order callback:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(order.stock_code, order.order_status, order.order_sysid)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_trade</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">trade</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        成交信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param trade: XtTrade对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on trade callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(trade.account_id, trade.stock_code, trade.order_id)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_stock_position</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">position</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        持仓信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param position: XtPosition对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on position callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(position.stock_code, position.volume)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_order_error</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">order_error</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        下单失败信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param order_error:XtOrderError 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on order_error callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(order_error.order_id, order_error.error_id, order_error.error_msg)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_cancel_error</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">cancel_error</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        撤单失败信息推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param cancel_error: XtCancelError 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on cancel_error callback</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(cancel_error.order_id, cancel_error.error_id, cancel_error.error_msg)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_order_stock_async_response</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">response</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        异步下单回报推送</span></span>
<span class="line"><span style="color:#6272A4;">        :param response: XtOrderResponse 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on_order_stock_async_response</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(response.account_id, response.order_id, response.seq)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">on_smt_appointment_async_response</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">response</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#6272A4;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#6272A4;">        :param response: XtAppointmentResponse 对象</span></span>
<span class="line"><span style="color:#6272A4;">        :return:</span></span>
<span class="line"><span style="color:#6272A4;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">on_smt_appointment_async_response</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(response.account_id, response.order_sysid, response.error_id, response.error_msg, response.seq)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="连接状态回调" tabindex="-1"><a class="header-anchor" href="#连接状态回调" aria-hidden="true">#</a> 连接状态回调</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_disconnected()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>失去连接时推送信息</li></ul></li><li>参数 <ul><li>无</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="账号状态信息推送" tabindex="-1"><a class="header-anchor" href="#账号状态信息推送" aria-hidden="true">#</a> 账号状态信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_account_status(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>账号状态信息变动推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B4%A6%E5%8F%B7%E7%8A%B6%E6%80%81xtaccountstatus" target="_blank" rel="noopener noreferrer">XtAccountStatus<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 账号状态信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="资产信息推送" tabindex="-1"><a class="header-anchor" href="#资产信息推送" aria-hidden="true">#</a> 资产信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_stock_asset(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>资产信息变动推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E8%B5%84%E4%BA%A7xtasset" target="_blank" rel="noopener noreferrer">XtAsset<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 资产信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="委托信息推送" tabindex="-1"><a class="header-anchor" href="#委托信息推送" aria-hidden="true">#</a> 委托信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_stock_order(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>委托信息变动推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%A7%94%E6%89%98xtorder" target="_blank" rel="noopener noreferrer">XtOrder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 委托信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="成交信息推送" tabindex="-1"><a class="header-anchor" href="#成交信息推送" aria-hidden="true">#</a> 成交信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_stock_trade(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>成交信息变动推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%88%90%E4%BA%A4xttrade" target="_blank" rel="noopener noreferrer">XtTrade<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 成交信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="持仓信息推送" tabindex="-1"><a class="header-anchor" href="#持仓信息推送" aria-hidden="true">#</a> 持仓信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_stock_position(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>持仓信息变动推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%8C%81%E4%BB%93xtposition" target="_blank" rel="noopener noreferrer">XtPosition<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 持仓信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="下单失败信息推送" tabindex="-1"><a class="header-anchor" href="#下单失败信息推送" aria-hidden="true">#</a> 下单失败信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_order_error(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>下单失败信息推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E4%B8%8B%E5%8D%95%E5%A4%B1%E8%B4%A5%E9%94%99%E8%AF%AFxtordererror" target="_blank" rel="noopener noreferrer">XtOrderError<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 下单失败信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="撤单失败信息推送" tabindex="-1"><a class="header-anchor" href="#撤单失败信息推送" aria-hidden="true">#</a> 撤单失败信息推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_cancel_error(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>撤单失败信息的推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E6%92%A4%E5%8D%95%E5%A4%B1%E8%B4%A5%E9%94%99%E8%AF%AFxtcancelerror" target="_blank" rel="noopener noreferrer">XtCancelError<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 撤单失败信息</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="异步下单回报推送" tabindex="-1"><a class="header-anchor" href="#异步下单回报推送" aria-hidden="true">#</a> 异步下单回报推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_order_stock_async_response(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>异步下单回报推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E5%BC%82%E6%AD%A5%E4%B8%8B%E5%8D%95%E5%A7%94%E6%89%98%E5%8F%8D%E9%A6%88xtorderresponse" target="_blank" rel="noopener noreferrer">XtOrderResponse<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 异步下单委托反馈</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul><h4 id="约券相关异步接口的回报推送" tabindex="-1"><a class="header-anchor" href="#约券相关异步接口的回报推送" aria-hidden="true">#</a> 约券相关异步接口的回报推送</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">on_smt_appointment_async_response(data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>释义 <ul><li>异步约券相关接口回报推送</li></ul></li><li>参数 <ul><li>data - <a href="http://dict.thinktrader.net/nativeApi/xttrader.html#%E7%BA%A6%E5%88%B8%E7%9B%B8%E5%85%B3%E5%BC%82%E6%AD%A5%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8F%8D%E9%A6%88xtsmtappointmentresponse" target="_blank" rel="noopener noreferrer">XtSmtAppointmentResponse<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 约券相关异步接口的反馈</li></ul></li><li>返回 <ul><li>无</li></ul></li><li>备注 <ul><li>无</li></ul></li></ul></div></div><!--[--><!--]--></div>

<nav class="page-nav" data-v-3c904194><p class="inner"><span class="prev"><a href="../nativeApi/xtdata.html" class="" aria-label="XtQuant.XtData 行情模块"><!--[--><!--]--> XtQuant.XtData 行情模块 <!--[--><!--]--></a></span><span class="next"><a href="../nativeApi/code_examples.html" class="" aria-label="完整实例"><!--[--><!--]--> 完整实例 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>

  <div class="toFixedCopy wxFixed" style="text-align: center"><a href="https://work.weixin.qq.com/ca/cawcde1dc261ca71f1" target="_blank" rel="noopener noreferrer">联系微信获取权限<br><img src="../assets/联系客户经理.png" alt="微信扫码联系客服" title="点击联系客服" style="width:150px;"></a></div></body>
</html>
