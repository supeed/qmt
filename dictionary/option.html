
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    
	<title>期权数据</title><meta name="description" content="QMT说明, QMT-Python-API, QMT用户手册。">
    <link rel="preload" href="../assets/style-8436f03b.css" as="style"><link rel="stylesheet" href="../assets/style-8436f03b.css">
    <link rel="modulepreload" href="../assets/app-99722cb8.js"><link rel="modulepreload" href="../assets/option.html-1d25e189.js"><link rel="modulepreload" href="../assets/option.html-bc239cdd.js"><link rel="prefetch" href="../assets/index.html-93a0007d.js" as="script"><link rel="prefetch" href="../assets/basic_syntax.html-e393df56.js" as="script"><link rel="prefetch" href="../assets/check_sheet.html-a405c8a3.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-985b4984.js" as="script"><link rel="prefetch" href="../assets/control_statement.html-bf992bd7.js" as="script"><link rel="prefetch" href="../assets/operating_mode.html-a2f39c1a.js" as="script"><link rel="prefetch" href="../assets/start_now.html-1be21f8a.js" as="script"><link rel="prefetch" href="../assets/system_function.html-49a65798.js" as="script"><link rel="prefetch" href="../assets/index.html-179668eb.js" as="script"><link rel="prefetch" href="../assets/bond.html-d9c1be0d.js" as="script"><link rel="prefetch" href="../assets/floorfunds.html-8810bed2.js" as="script"><link rel="prefetch" href="../assets/future.html-8c1c26b7.js" as="script"><link rel="prefetch" href="../assets/indexes.html-ec6ecef0.js" as="script"><link rel="prefetch" href="../assets/industry.html-cffc4e77.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-bed5ae76.js" as="script"><link rel="prefetch" href="../assets/stock.html-035c3630.js" as="script"><link rel="prefetch" href="../assets/python调用VBA.html-e92f2331.js" as="script"><link rel="prefetch" href="../assets/全市场涨跌幅度统计.html-b8ba35f1.js" as="script"><link rel="prefetch" href="../assets/全市场资金流向.html-3bd359eb.js" as="script"><link rel="prefetch" href="../assets/北向资金.html-c14449da.js" as="script"><link rel="prefetch" href="../assets/南向资金.html-ed8f1d67.js" as="script"><link rel="prefetch" href="../assets/外盘_内盘.html-f9f023d3.js" as="script"><link rel="prefetch" href="../assets/多空对比.html-a634bb69.js" as="script"><link rel="prefetch" href="../assets/委买价_委卖价_委买量_委卖量.html-e791f06d.js" as="script"><link rel="prefetch" href="../assets/总市值.html-54cae4e7.js" as="script"><link rel="prefetch" href="../assets/总股本_涨停_跌停.html-9495eb6a.js" as="script"><link rel="prefetch" href="../assets/换手.html-396e0a2d.js" as="script"><link rel="prefetch" href="../assets/最新_今开_最高_最低_总额_总手_交易状态.html-1ae0fd22.js" as="script"><link rel="prefetch" href="../assets/注册资本.html-061f0b8d.js" as="script"><link rel="prefetch" href="../assets/流通盘.html-26dbb5b3.js" as="script"><link rel="prefetch" href="../assets/涨跌_涨幅.html-c4201ae4.js" as="script"><link rel="prefetch" href="../assets/涨跌家数变化.html-a30316a7.js" as="script"><link rel="prefetch" href="../assets/规模风向标.html-d7dc3f5e.js" as="script"><link rel="prefetch" href="../assets/量比.html-ca6f9a2e.js" as="script"><link rel="prefetch" href="../assets/rookie.html-df76d0ad.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-f1708e88.js" as="script"><link rel="prefetch" href="../assets/download_xtquant.html-337a4246.js" as="script"><link rel="prefetch" href="../assets/question_function.html-92b003d3.js" as="script"><link rel="prefetch" href="../assets/start_now.html-b45a357d.js" as="script"><link rel="prefetch" href="../assets/xtdata.html-97c855c0.js" as="script"><link rel="prefetch" href="../assets/xttrader.html-cb4abe04.js" as="script"><link rel="prefetch" href="../assets/callback_function.html-4153be6c.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-c1ae1001.js" as="script"><link rel="prefetch" href="../assets/data_function.html-2411bf01.js" as="script"><link rel="prefetch" href="../assets/data_structure.html-a96a202d.js" as="script"><link rel="prefetch" href="../assets/drawing_function.html-dee669df.js" as="script"><link rel="prefetch" href="../assets/enum_constants.html-2c1f6dcc.js" as="script"><link rel="prefetch" href="../assets/interface_operation.html-47a2cf15.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-4f12deae.js" as="script"><link rel="prefetch" href="../assets/quote_function.html-827e9fb8.js" as="script"><link rel="prefetch" href="../assets/related_instructions.html-9b630c20.js" as="script"><link rel="prefetch" href="../assets/start_now.html-79f8f415.js" as="script"><link rel="prefetch" href="../assets/system_function.html-03a1dc3a.js" as="script"><link rel="prefetch" href="../assets/trading_function.html-3c0f4ee8.js" as="script"><link rel="prefetch" href="../assets/user_attention.html-e0d27a96.js" as="script"><link rel="prefetch" href="../assets/variable_convention.html-17caf0d6.js" as="script"><link rel="prefetch" href="../assets/JoinQuant2QMT.html-38cb9974.js" as="script"><link rel="prefetch" href="../assets/index.html-22b6b31a.js" as="script"><link rel="prefetch" href="../assets/daoru_daochu.html-c8cace75.js" as="script"><link rel="prefetch" href="../assets/hangqing_setting.html-1a9570b3.js" as="script"><link rel="prefetch" href="../assets/ty_add_indicator.html-1f2f4b0a.js" as="script"><link rel="prefetch" href="../assets/ty_backtest_strategy.html-270aeeab.js" as="script"><link rel="prefetch" href="../assets/ty_code_review_backtest.html-200ceddd.js" as="script"><link rel="prefetch" href="../assets/ty_content.html-bac1ad25.js" as="script"><link rel="prefetch" href="../assets/ty_data_download.html-351b4a4f.js" as="script"><link rel="prefetch" href="../assets/ty_data_interface.html-2e32a98a.js" as="script"><link rel="prefetch" href="../assets/ty_direct_connect.html-f8b10f83.js" as="script"><link rel="prefetch" href="../assets/ty_factor_data.html-1746bcaa.js" as="script"><link rel="prefetch" href="../assets/ty_linux_xtquant_data.html-44bf60fb.js" as="script"><link rel="prefetch" href="../assets/ty_native_python.html-8028f714.js" as="script"><link rel="prefetch" href="../assets/ty_register_install.html-0d2c078f.js" as="script"><link rel="prefetch" href="../assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="../assets/index.html-23445d95.js" as="script"><link rel="prefetch" href="../assets/basic_syntax.html-5af886ee.js" as="script"><link rel="prefetch" href="../assets/check_sheet.html-5184a806.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-aa1deec9.js" as="script"><link rel="prefetch" href="../assets/control_statement.html-3b20a2b9.js" as="script"><link rel="prefetch" href="../assets/operating_mode.html-fd0ec393.js" as="script"><link rel="prefetch" href="../assets/start_now.html-bdc1834b.js" as="script"><link rel="prefetch" href="../assets/system_function.html-4f0942d4.js" as="script"><link rel="prefetch" href="../assets/index.html-a0cb365e.js" as="script"><link rel="prefetch" href="../assets/bond.html-7a63f47e.js" as="script"><link rel="prefetch" href="../assets/floorfunds.html-9746e82a.js" as="script"><link rel="prefetch" href="../assets/future.html-dff59680.js" as="script"><link rel="prefetch" href="../assets/indexes.html-f0ffc2ed.js" as="script"><link rel="prefetch" href="../assets/industry.html-6c37727a.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-eb13f2ba.js" as="script"><link rel="prefetch" href="../assets/stock.html-5b93fe23.js" as="script"><link rel="prefetch" href="../assets/python调用VBA.html-f3232163.js" as="script"><link rel="prefetch" href="../assets/全市场涨跌幅度统计.html-0615d22a.js" as="script"><link rel="prefetch" href="../assets/全市场资金流向.html-0e599d6b.js" as="script"><link rel="prefetch" href="../assets/北向资金.html-dabcf598.js" as="script"><link rel="prefetch" href="../assets/南向资金.html-dbd875ea.js" as="script"><link rel="prefetch" href="../assets/外盘_内盘.html-5f883999.js" as="script"><link rel="prefetch" href="../assets/多空对比.html-11c1c488.js" as="script"><link rel="prefetch" href="../assets/委买价_委卖价_委买量_委卖量.html-0df576f7.js" as="script"><link rel="prefetch" href="../assets/总市值.html-e1af9791.js" as="script"><link rel="prefetch" href="../assets/总股本_涨停_跌停.html-41245f1b.js" as="script"><link rel="prefetch" href="../assets/换手.html-2811be82.js" as="script"><link rel="prefetch" href="../assets/最新_今开_最高_最低_总额_总手_交易状态.html-b756ceca.js" as="script"><link rel="prefetch" href="../assets/注册资本.html-049b932e.js" as="script"><link rel="prefetch" href="../assets/流通盘.html-e48d17b3.js" as="script"><link rel="prefetch" href="../assets/涨跌_涨幅.html-c49f09e7.js" as="script"><link rel="prefetch" href="../assets/涨跌家数变化.html-b0a2702d.js" as="script"><link rel="prefetch" href="../assets/规模风向标.html-8caa0565.js" as="script"><link rel="prefetch" href="../assets/量比.html-13e416e5.js" as="script"><link rel="prefetch" href="../assets/rookie.html-e305c3cb.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-37f2c141.js" as="script"><link rel="prefetch" href="../assets/download_xtquant.html-7a7ee88f.js" as="script"><link rel="prefetch" href="../assets/question_function.html-437cccea.js" as="script"><link rel="prefetch" href="../assets/start_now.html-01155b75.js" as="script"><link rel="prefetch" href="../assets/xtdata.html-1e0a07b7.js" as="script"><link rel="prefetch" href="../assets/xttrader.html-ed1b1fe5.js" as="script"><link rel="prefetch" href="../assets/callback_function.html-a1ef7560.js" as="script"><link rel="prefetch" href="../assets/code_examples.html-8a240771.js" as="script"><link rel="prefetch" href="../assets/data_function.html-94c8c7e6.js" as="script"><link rel="prefetch" href="../assets/data_structure.html-47f36229.js" as="script"><link rel="prefetch" href="../assets/drawing_function.html-ad741397.js" as="script"><link rel="prefetch" href="../assets/enum_constants.html-6a4d27a4.js" as="script"><link rel="prefetch" href="../assets/interface_operation.html-9b7579d2.js" as="script"><link rel="prefetch" href="../assets/question_answer.html-15175a6b.js" as="script"><link rel="prefetch" href="../assets/quote_function.html-86d4ef78.js" as="script"><link rel="prefetch" href="../assets/related_instructions.html-b4f87603.js" as="script"><link rel="prefetch" href="../assets/start_now.html-d25bd7fe.js" as="script"><link rel="prefetch" href="../assets/system_function.html-b5032370.js" as="script"><link rel="prefetch" href="../assets/trading_function.html-51206dd7.js" as="script"><link rel="prefetch" href="../assets/user_attention.html-d2df5640.js" as="script"><link rel="prefetch" href="../assets/variable_convention.html-8bcc5c5f.js" as="script"><link rel="prefetch" href="../assets/JoinQuant2QMT.html-5a5867f6.js" as="script"><link rel="prefetch" href="../assets/index.html-925d7c12.js" as="script"><link rel="prefetch" href="../assets/daoru_daochu.html-9feb8edf.js" as="script"><link rel="prefetch" href="../assets/hangqing_setting.html-6f4f36fa.js" as="script"><link rel="prefetch" href="../assets/ty_add_indicator.html-ab4dcef5.js" as="script"><link rel="prefetch" href="../assets/ty_backtest_strategy.html-3da9fb3c.js" as="script"><link rel="prefetch" href="../assets/ty_code_review_backtest.html-bc72c419.js" as="script"><link rel="prefetch" href="../assets/ty_content.html-93b129b3.js" as="script"><link rel="prefetch" href="../assets/ty_data_download.html-6381aec1.js" as="script"><link rel="prefetch" href="../assets/ty_data_interface.html-2a716790.js" as="script"><link rel="prefetch" href="../assets/ty_direct_connect.html-b63051ab.js" as="script"><link rel="prefetch" href="../assets/ty_factor_data.html-5f08c397.js" as="script"><link rel="prefetch" href="../assets/ty_linux_xtquant_data.html-bf571773.js" as="script"><link rel="prefetch" href="../assets/ty_native_python.html-264f76d4.js" as="script"><link rel="prefetch" href="../assets/ty_register_install.html-cfe8e155.js" as="script"><link rel="prefetch" href="../assets/404.html-a36e0f1a.js" as="script"><link rel="prefetch" href="../assets/SearchBox-a1914cb6.js" as="script"><link rel="prefetch" href="../assets/auto-6adc87e8.js" as="script"><link rel="prefetch" href="../assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="../assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="../assets/SignPanel-39d95e93.js" as="script"><link rel="prefetch" href="../assets/SignPanel-39d95e93.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[-->
	
	<aside class="sidebar">
	
	<ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">数据字典 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children">
	
	<li><a href="../dictionary/stock.html" class="sidebar-item" aria-label="股票数据"><!--[--><!--]--> 股票数据 <!--[--><!--]--></a><!----></li><li><a href="../dictionary/industry.html" class="sidebar-item" aria-label="行业概念数据"><!--[--><!--]--> 行业概念数据 <!--[--><!--]--></a><!----></li><li><a href="../dictionary/indexes.html" class="sidebar-item" aria-label="指数数据"><!--[--><!--]--> 指数数据 <!--[--><!--]--></a><!----></li><li><a href="../dictionary/future.html" class="sidebar-item" aria-label="期货数据"><!--[--><!--]--> 期货数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="期权数据"><!--[--><!--]--> 期权数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#获取期权数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取期权数据"><!--[--><!--]--> 获取期权数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#获取指定期权标的对应的期权品种列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取指定期权标的对应的期权品种列表"><!--[--><!--]--> 获取指定期权标的对应的期权品种列表 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#方式1-内置python" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式1：内置python"><!--[--><!--]--> 方式1：内置python <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html#方式2-原生python" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式2：原生python"><!--[--><!--]--> 方式2：原生python <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#获取历史期权列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取历史期权列表"><!--[--><!--]--> 获取历史期权列表 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#方式1-内置python-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式1：内置python"><!--[--><!--]--> 方式1：内置python <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html#方式2-原生python-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式2：原生python"><!--[--><!--]--> 方式2：原生python <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#获取指定期权品种的详细信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取指定期权品种的详细信息"><!--[--><!--]--> 获取指定期权品种的详细信息 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#方法1-内置python" class="router-link-active router-link-exact-active sidebar-item" aria-label="方法1：内置python"><!--[--><!--]--> 方法1：内置python <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html#方法2-原生python" class="router-link-active router-link-exact-active sidebar-item" aria-label="方法2：原生python"><!--[--><!--]--> 方法2：原生python <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#基于bs模型计算欧式期权理论价格" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于BS模型计算欧式期权理论价格"><!--[--><!--]--> 基于BS模型计算欧式期权理论价格 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#方法1-内置python-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="方法1：内置python"><!--[--><!--]--> 方法1：内置python <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#基于bs模型计算欧式期权隐含波动率" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于BS模型计算欧式期权隐含波动率"><!--[--><!--]--> 基于BS模型计算欧式期权隐含波动率 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#方法1-内置python-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="方法1：内置python"><!--[--><!--]--> 方法1：内置python <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#期权行情数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="期权行情数据"><!--[--><!--]--> 期权行情数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#获取期权行情数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取期权行情数据"><!--[--><!--]--> 获取期权行情数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html#获取过期期权合约代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取过期期权合约代码"><!--[--><!--]--> 获取过期期权合约代码 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="../dictionary/option.html#内置python" class="router-link-active router-link-exact-active sidebar-item" aria-label="内置python"><!--[--><!--]--> 内置python <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="../dictionary/option.html#原生python" class="router-link-active router-link-exact-active sidebar-item" aria-label="原生Python"><!--[--><!--]--> 原生Python <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="../dictionary/option.html#获取期权全推数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取期权全推数据"><!--[--><!--]--> 获取期权全推数据 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="../dictionary/floorfunds.html" class="sidebar-item" aria-label="场内基金"><!--[--><!--]--> 场内基金 <!--[--><!--]--></a><!----></li><li><a href="../dictionary/bond.html" class="sidebar-item" aria-label="债券数据"><!--[--><!--]--> 债券数据 <!--[--><!--]--></a><!----></li><li><a href="../dictionary/question_answer.html" class="sidebar-item" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page" data-v-3c904194><!--[--><!--]--><div class="theme-default-contents" data-v-3c904194><!----><!--[--><!--]--><div class="theme-default-content" data-v-3c904194><div data-v-3c904194><h2 id="获取期权数据" tabindex="-1"><a class="header-anchor" href="#获取期权数据" aria-hidden="true">#</a> 获取期权数据</h2><h3 id="获取指定期权标的对应的期权品种列表" tabindex="-1"><a class="header-anchor" href="#获取指定期权标的对应的期权品种列表" aria-hidden="true">#</a> 获取指定期权标的对应的期权品种列表</h3><p>为了获取与指定期权标的相关的期权品种列表，你需要使用此函数操作。根据你的需求，这个过程将需要输入期权标的（如某个公司的股票代码）作为参数，接下来，该函数将返回所有与此期权标的相关的期权品种信息。这样的功能使投资者能够对期权市场有更详尽、全面的掌握，从而做出更科学、合理的投资决策。</p><h4 id="方式1-内置python" tabindex="-1"><a class="header-anchor" href="#方式1-内置python" aria-hidden="true">#</a> 方式1：内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-15-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-15-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  data</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.get_option_undl_data(undl_code_ref)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>undl_code_ref</code></td><td><code>string</code></td><td><code>期权标的代码</code></td></tr></tbody></table><ul><li>undl_code_ref:期权标的代码,如&#39;510300.SH&#39;，传空字符串时获取全部标的数据</li></ul><p><strong>返回</strong></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>指定期权标的返回的是 列表类型</li><li>期权标的为空字符串返回的是 字典类型</li></ul></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-75-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-75-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-75-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">	ContextInfo.etf_code </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">510050.SH</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">	</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">	data</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.get_option_undl_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">510300.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">	</span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(data)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-75-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005347.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005348.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005349.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005350.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005351.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005352.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005353.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005354.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005355.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005356.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005357.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005358.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005359.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005360.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005361.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005362.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005363.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005364.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005387.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005388.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005391.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005392.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005467.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005468.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005783.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005784.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005785.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005786.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005787.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005788.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005789.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005790.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005791.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005792.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005793.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005794.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005795.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005796.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005797.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005798.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005799.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005800.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005867.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005868.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005875.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005876.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005897.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005898.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005931.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005932.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005933.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005934.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005935.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005936.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005937.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005938.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005939.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005940.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005941.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005942.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005943.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005944.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005945.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005946.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005947.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005948.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006007.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006008.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006019.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006020.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006021.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006022.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006023.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006024.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006043.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006044.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006045.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006046.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006047.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006048.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006049.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006050.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006051.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006052.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006053.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006054.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006055.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006056.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006057.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006058.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006059.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006060.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006117.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006118.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006135.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006136.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006137.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006138.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006139.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006140.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006141.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006142.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--]--></div><h4 id="方式2-原生python" tabindex="-1"><a class="header-anchor" href="#方式2-原生python" aria-hidden="true">#</a> 方式2：原生python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-89-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-89-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_option_undl_data(undl_code_ref)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>undl_code_ref</code></td><td><code>string</code></td><td><code>期权标的代码</code></td></tr></tbody></table><ul><li>undl_code_ref:期权标的代码,如&#39;510300.SH&#39;，传空字符串时获取全部标的数据</li></ul><p><strong>返回</strong></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>指定期权标的返回的是 列表类型</li><li>期权标的为空字符串返回的是 字典类型</li></ul></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-149-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-149-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-149-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(xtdata.get_option_undl_data(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">510300.SH</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-149-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005347.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005348.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005349.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005350.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005351.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005352.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005353.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005354.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005355.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005356.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005357.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005358.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005359.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005360.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005361.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005362.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005363.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005364.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005387.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005388.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005391.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005392.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005467.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005468.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005783.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005784.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005785.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005786.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005787.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005788.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005789.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005790.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005791.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005792.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005793.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005794.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005795.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005796.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005797.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005798.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005799.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005800.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005867.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005868.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005875.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005876.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005897.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005898.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005931.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005932.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005933.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005934.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005935.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005936.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005937.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005938.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005939.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005940.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005941.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005942.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005943.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005944.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005945.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005946.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005947.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005948.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006007.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006008.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006019.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006020.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006021.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006022.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006023.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006024.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006043.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006044.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006045.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006046.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006047.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006048.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006049.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006050.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006051.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006052.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006053.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006054.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006055.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006056.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006057.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006058.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006059.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006060.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006117.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006118.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006135.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006136.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006137.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006138.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006139.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006140.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006141.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10006142.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--]--></div><h3 id="获取历史期权列表" tabindex="-1"><a class="header-anchor" href="#获取历史期权列表" aria-hidden="true">#</a> 获取历史期权列表</h3><p>函数能帮助用户获取历史期权列表, 包括某日历史在上交所上市的认购合约和认沽合约, 也包括已经退市的合约。通过这一函数, 投资者可以回溯和分析不同类型合约的历史行为, 对市场变化有更全面的理解, 从而制定出更为稳健和有效的投资策略。</p><h4 id="方式1-内置python-1" tabindex="-1"><a class="header-anchor" href="#方式1-内置python-1" aria-hidden="true">#</a> 方式1：内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-169-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-169-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  ContextInfo.get_option_list(undl_code,dedate,opttype,isavailable)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>undl_cod</code></td><td><code>str</code></td><td><code>期权标的代码</code></td></tr><tr><td><code>dedate</code></td><td><code>str</code></td><td><code>期权到期月或当前交易日期，&quot;YYYYMM&quot;格式为期权到期月，&quot;YYYYMMDD&quot;格式为获取当前日期交易的期权</code></td></tr><tr><td><code>opttype</code></td><td><code>str</code></td><td><code>期权类型，默认值为空，&quot;CALL&quot;，&quot;PUT&quot;，为空时认购认沽都取</code></td></tr><tr><td><code>isavailable</code></td><td><code>bool</code></td><td><code>是否可交易，当dedate的格式为&quot;YYYYMMDD&quot;格式为获取当前日期交易的期权时，isavailable为True时返回当前可用，为False时返回当前和历史可用</code></td></tr></tbody></table><p><strong>返回</strong></p><ul><li>期权合约列表list</li></ul><div class="custom-container tip"><p class="custom-container-title">提示</p><p>获取历史期权需要下载过期合约列表</p></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-253-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-253-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-253-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">&#39;&#39;&#39;获取到期月份为202101的上交所510300ETF认购合约 &#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;"># 获取到期月份为202101的上交所510300ETF认购合约</span></span>
<span class="line"><span style="color:#F8F8F2;">  data</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.get_option_list(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">510300.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">202101</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">CALL</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;"># 获取20210104当天上交所510300ETF可交易的认购合约</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;">#data=ContextInfo.get_option_list(&#39;510300.SH&#39;,&#39;20210104&#39;,&quot;CALL&quot;,True)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;">#获取20210104当天上交所510300ETF已经上市的认购合约(包括退市)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;">#data=ContextInfo.get_option_list(&#39;510300.SH&#39;,&#39;20210104&#39;,&quot;CALL&quot;,False)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(data)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-253-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002931.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002932.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002933.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002934.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002935.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002936.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002937.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002938.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002939.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003031.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003093.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003117.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003125.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003126.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003127.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003128.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003129.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003130.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003131.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003132.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003133.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003197.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h4 id="方式2-原生python-1" tabindex="-1"><a class="header-anchor" href="#方式2-原生python-1" aria-hidden="true">#</a> 方式2：原生python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-267-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-267-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_option_list(undl_code,dedate,opttype,isavailable)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>undl_cod</code></td><td><code>str</code></td><td><code>期权标的代码</code></td></tr><tr><td><code>dedate</code></td><td><code>str</code></td><td><code>期权到期月或当前交易日期，&quot;YYYYMM&quot;格式为期权到期月，&quot;YYYYMMDD&quot;格式为获取当前日期交易的期权</code></td></tr><tr><td><code>opttype</code></td><td><code>str</code></td><td><code>期权类型，默认值为空，&quot;CALL&quot;，&quot;PUT&quot;，为空时认购认沽都取</code></td></tr><tr><td><code>isavailable</code></td><td><code>bool</code></td><td><code>是否可交易，当dedate的格式为&quot;YYYYMMDD&quot;格式为获取当前日期交易的期权时，isavailable为True时返回当前可用，为False时返回当前和历史可用</code></td></tr></tbody></table><p><strong>返回</strong></p><ul><li>期权合约列表list</li></ul><div class="custom-container tip"><p class="custom-container-title">提示</p><p>获取历史期权需要下载过期合约列表</p></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-351-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-351-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-351-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 获取到期月份为202101的上交所510300ETF认购合约</span></span>
<span class="line"><span style="color:#F8F8F2;">data </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_option_list(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">510300.SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">202101</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">CALL</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;"># 获取20210104当天上交所510300ETF可交易的认购合约</span></span>
<span class="line"><span style="color:#6272A4;">#data=xtdata.get_option_list(&#39;510300.SH&#39;,&#39;20210104&#39;,&quot;CALL&quot;,True)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">#获取20210104当天上交所510300ETF已经上市的认购合约(包括退市)</span></span>
<span class="line"><span style="color:#6272A4;">#data=xtdata.get_option_list(&#39;510300.SH&#39;,&#39;20210104&#39;,&quot;CALL&quot;,False)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(data)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-351-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002931.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002932.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002933.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002934.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002935.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002936.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002937.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002938.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002939.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003031.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003093.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003117.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003125.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003126.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003127.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003128.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003129.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003130.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003131.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003132.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003133.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10003197.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h3 id="获取指定期权品种的详细信息" tabindex="-1"><a class="header-anchor" href="#获取指定期权品种的详细信息" aria-hidden="true">#</a> 获取指定期权品种的详细信息</h3><p>该函数能帮助用户获取指定期权品种的详细信息，如期权代码、市场、涨跌停价、期权行权价以及期权行权终止日等关键数据。通过使用此功能，投资者可以快速获取与特定期权品种有关的各项重要信息，更加清楚地理解该期权的具体状况，从而为投资决策提供准确的参考依据。</p><h4 id="方法1-内置python" tabindex="-1"><a class="header-anchor" href="#方法1-内置python" aria-hidden="true">#</a> 方法1：内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-371-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-371-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  ContextInfo.get_option_detail_data(optioncode)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>optioncode</code></td><td><code>str</code></td><td><code>期权代码</code></td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">提示</p><p>当填写空字符串时候默认为当前主图的期权品种</p></div><p><strong>返回</strong></p><p>字典类型</p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>ExchangeID</td><td>str</td><td>期权市场代码</td></tr><tr><td>InstrumentID</td><td>str</td><td>期权代码</td></tr><tr><td>ProductID</td><td>str</td><td>期权标的的产品ID</td></tr><tr><td>OpenDate</td><td>-</td><td>发行日期</td></tr><tr><td>ExpireDate</td><td>-</td><td>到期日</td></tr><tr><td>PreClose</td><td>float</td><td>前收价格</td></tr><tr><td>SettlementPrice</td><td>float</td><td>前结算价格</td></tr><tr><td>UpStopPrice</td><td>float</td><td>当日涨停价</td></tr><tr><td>DownStopPrice</td><td>float</td><td>当日跌停价</td></tr><tr><td>LongMarginRatio</td><td>float</td><td>多头保证金率</td></tr><tr><td>ShortMarginRatio</td><td>float</td><td>空头保证金率</td></tr><tr><td>PriceTick</td><td>float</td><td>最小变价单位</td></tr><tr><td>VolumeMultiple</td><td>int</td><td>合约乘数</td></tr><tr><td>MaxMarketOrderVolume</td><td>int</td><td>涨跌停价最大下单量</td></tr><tr><td>MinMarketOrderVolume</td><td>int</td><td>涨跌停价最小下单量</td></tr><tr><td>MaxLimitOrderVolume</td><td>int</td><td>限价单最大下单量</td></tr><tr><td>MinLimitOrderVolume</td><td>int</td><td>限价单最小下单量</td></tr><tr><td>OptUnit</td><td>int</td><td>期权合约单位</td></tr><tr><td>MarginUnit</td><td>float</td><td>期权单位保证金</td></tr><tr><td>OptUndlCode</td><td>str</td><td>期权标的证券代码</td></tr><tr><td>OptUndlMarket</td><td>str</td><td>期权标的证券市场</td></tr><tr><td>OptExercisePrice</td><td>float</td><td>期权行权价</td></tr><tr><td>NeeqExeType</td><td>str</td><td>全国股转转让类型</td></tr><tr><td>OptUndlRiskFreeRate</td><td>float</td><td>期权标的无风险利率</td></tr><tr><td>OptUndlHistoryRate</td><td>float</td><td>期权标的历史波动率</td></tr><tr><td>EndDelivDate</td><td>-</td><td>期权行权终止日</td></tr><tr><td>optType</td><td>str</td><td>期权类型</td></tr></tbody></table><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-732-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-732-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-732-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(ContextInfo.get_option_detail_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002235.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-732-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ExchangeID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">InstrumentID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002235</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ProductID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">50ETF(510050)</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OpenDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200123</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ExpireDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200923</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">PreClose</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.3199</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SettlementPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.322</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">UpStopPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.6542</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">DownStopPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">LongMarginRatio</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">12.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ShortMarginRatio</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">7.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">PriceTick</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">VolumeMultiple</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10000</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MaxMarketOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MinMarketOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MaxLimitOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MinLimitOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUnit</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1.7976931348623157e+308</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MarginUnit</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">7206.4</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlCode</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">510050</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlMarket</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptExercisePrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">3.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">NeeqExeType</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlRiskFreeRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.03234</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlHistoryRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.283734422522</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">EndDelivDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200923</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">optType</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CALL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h4 id="方法2-原生python" tabindex="-1"><a class="header-anchor" href="#方法2-原生python" aria-hidden="true">#</a> 方法2：原生python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-746-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-746-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_option_detail_data(optioncode)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>optioncode</code></td><td><code>str</code></td><td><code>期权代码</code></td></tr></tbody></table><p><strong>返回</strong></p><p>字典类型</p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>ExchangeID</td><td>str</td><td>期权市场代码</td></tr><tr><td>InstrumentID</td><td>str</td><td>期权代码</td></tr><tr><td>ProductID</td><td>str</td><td>期权标的的产品ID</td></tr><tr><td>OpenDate</td><td>-</td><td>发行日期</td></tr><tr><td>ExpireDate</td><td>-</td><td>到期日</td></tr><tr><td>PreClose</td><td>float</td><td>前收价格</td></tr><tr><td>SettlementPrice</td><td>float</td><td>前结算价格</td></tr><tr><td>UpStopPrice</td><td>float</td><td>当日涨停价</td></tr><tr><td>DownStopPrice</td><td>float</td><td>当日跌停价</td></tr><tr><td>LongMarginRatio</td><td>float</td><td>多头保证金率</td></tr><tr><td>ShortMarginRatio</td><td>float</td><td>空头保证金率</td></tr><tr><td>PriceTick</td><td>float</td><td>最小变价单位</td></tr><tr><td>VolumeMultiple</td><td>int</td><td>合约乘数</td></tr><tr><td>MaxMarketOrderVolume</td><td>int</td><td>涨跌停价最大下单量</td></tr><tr><td>MinMarketOrderVolume</td><td>int</td><td>涨跌停价最小下单量</td></tr><tr><td>MaxLimitOrderVolume</td><td>int</td><td>限价单最大下单量</td></tr><tr><td>MinLimitOrderVolume</td><td>int</td><td>限价单最小下单量</td></tr><tr><td>OptUnit</td><td>int</td><td>期权合约单位</td></tr><tr><td>MarginUnit</td><td>float</td><td>期权单位保证金</td></tr><tr><td>OptUndlCode</td><td>str</td><td>期权标的证券代码</td></tr><tr><td>OptUndlMarket</td><td>str</td><td>期权标的证券市场</td></tr><tr><td>OptExercisePrice</td><td>float</td><td>期权行权价</td></tr><tr><td>NeeqExeType</td><td>str</td><td>全国股转转让类型</td></tr><tr><td>OptUndlRiskFreeRate</td><td>float</td><td>期权标的无风险利率</td></tr><tr><td>OptUndlHistoryRate</td><td>float</td><td>期权标的历史波动率</td></tr><tr><td>EndDelivDate</td><td>-</td><td>期权行权终止日</td></tr><tr><td>optType</td><td>str</td><td>期权类型</td></tr></tbody></table><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1102-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1102-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1102-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(xtdata.get_option_detail_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002235.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1102-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ExchangeID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">InstrumentID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10002235</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ProductID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">50ETF(510050)</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OpenDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200123</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ExpireDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200923</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">PreClose</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.3199</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SettlementPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.322</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">UpStopPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.6542</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">DownStopPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">LongMarginRatio</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">12.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">ShortMarginRatio</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">7.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">PriceTick</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">VolumeMultiple</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10000</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MaxMarketOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MinMarketOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MaxLimitOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MinLimitOrderVolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUnit</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">1.7976931348623157e+308</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MarginUnit</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">7206.4</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlCode</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">510050</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlMarket</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">SH</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptExercisePrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">3.0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">NeeqExeType</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlRiskFreeRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.03234</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">OptUndlHistoryRate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.283734422522</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">EndDelivDate</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">20200923</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">optType</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">CALL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h3 id="基于bs模型计算欧式期权理论价格" tabindex="-1"><a class="header-anchor" href="#基于bs模型计算欧式期权理论价格" aria-hidden="true">#</a> 基于BS模型计算欧式期权理论价格</h3><p>基于Black-Scholes-Merton模型，输入期权标的价格、期权行权价、无风险利率、期权标的年化波动率、剩余天数、标的分红率、计算期权的理论价格</p><h4 id="方法1-内置python-1" tabindex="-1"><a class="header-anchor" href="#方法1-内置python-1" aria-hidden="true">#</a> 方法1：内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1122-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-1122-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  ContextInfo.bsm_price(optionType,objectPrices,strikePrice,riskFree,sigma,days,dividend)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>optionType</code></td><td><code>str</code></td><td><code>期权类型，认购：&#39;C&#39;，认沽：&#39;P&#39;</code></td></tr><tr><td><code>objectPrices</code></td><td><code>float</code></td><td><code>期权标的价格，可以是价格列表或者单个价格</code></td></tr><tr><td><code>strikePrice</code></td><td><code>float</code></td><td><code>期权行权价</code></td></tr><tr><td><code>riskFree</code></td><td><code>float</code></td><td><code>无风险收益率</code></td></tr><tr><td><code>sigma</code></td><td><code>float</code></td><td><code>标的波动率</code></td></tr><tr><td><code>days</code></td><td><code>int</code></td><td><code>剩余天数</code></td></tr><tr><td><code>dividend</code></td><td><code>float</code></td><td><code>分红率</code></td></tr></tbody></table><p><strong>返回</strong></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>objectPrices为float时，返回float</li><li>objectPrices为list时，返回list</li><li>计算结果最小值0.0001，结果保留4位小数,输入非法参数返回nan</li></ul></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1246-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1246-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1246-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> numpy </span><span style="color:#FF79C6;">as</span><span style="color:#F8F8F2;"> np</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  object_prices</span><span style="color:#FF79C6;">=</span><span style="color:#8BE9FD;font-style:italic;">list</span><span style="color:#F8F8F2;">(np.arange(</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.01</span><span style="color:#F8F8F2;">))</span><span style="color:#F8F8F2;font-style:italic;text-decoration:underline;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;">#计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格从3元到4元变动过程中期权理论价格序列</span></span>
<span class="line"><span style="color:#F8F8F2;">  prices</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.bsm_price(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">C</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,object_prices,</span><span style="color:#BD93F9;">3.5</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.03</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.23</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">15</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(prices)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;">#计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格为3.51元的平值期权的理论价格</span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.bsm_price(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">C</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3.51</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3.5</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.03</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.23</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">15</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(price)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1246-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># 计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格从3元到4元变动过程中期权理论价格序列</span></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0002</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0002</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0002</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0003</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0004</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0005</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0006</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0007</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0008</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0012</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0015</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0017</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0021</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0025</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0029</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0034</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.004</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0046</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0054</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0062</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0072</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0082</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0094</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0108</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0122</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0138</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0156</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0176</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0197</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.022</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0246</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0273</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0302</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0334</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0368</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0404</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0443</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0484</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0527</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0573</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0621</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0672</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0725</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0781</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0839</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0899</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0962</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1027</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1094</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1163</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1235</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1308</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1383</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.146</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1539</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.162</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1702</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1785</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1871</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.1957</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2044</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2133</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2223</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2314</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2405</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2498</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2591</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2685</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.278</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2875</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.2971</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3067</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3164</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3261</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3359</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3456</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3554</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3653</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3751</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.385</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.3949</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4048</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4147</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4246</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4346</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4445</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4545</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4644</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4744</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4844</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.4944</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#6272A4;"># 计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格为3.51元的平值期权的理论价格</span></span>
<span class="line"><span style="color:#BD93F9;">0.0725</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h3 id="基于bs模型计算欧式期权隐含波动率" tabindex="-1"><a class="header-anchor" href="#基于bs模型计算欧式期权隐含波动率" aria-hidden="true">#</a> 基于BS模型计算欧式期权隐含波动率</h3><p>基于Black-Scholes-Merton模型,输入期权标的价格、期权行权价、期权现价、无风险利率、剩余天数、标的分红率,计算期权的隐含波动率</p><h4 id="方法1-内置python-2" tabindex="-1"><a class="header-anchor" href="#方法1-内置python-2" aria-hidden="true">#</a> 方法1：内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1266-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-1266-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    ContextInfo.bsm_iv(optionType,objectPrices,strikePrice,optionPrice,riskFree,days,dividend)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>optionType</code></td><td><code>str</code></td><td><code>期权类型，认购：&#39;C&#39;，认沽：&#39;P&#39;</code></td></tr><tr><td><code>objectPrices</code></td><td><code>float</code></td><td><code>期权标的价格，可以是价格列表或者单个价格</code></td></tr><tr><td><code>strikePrice</code></td><td><code>float</code></td><td><code>期权行权价</code></td></tr><tr><td><code>riskFree</code></td><td><code>float</code></td><td><code>无风险收益率</code></td></tr><tr><td><code>sigma</code></td><td><code>float</code></td><td><code>标的波动率</code></td></tr><tr><td><code>days</code></td><td><code>int</code></td><td><code>剩余天数</code></td></tr><tr><td><code>dividend</code></td><td><code>float</code></td><td><code>分红率</code></td></tr></tbody></table><p><strong>返回</strong></p><p><code>double</code></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1374-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1374-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1374-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> numpy </span><span style="color:#FF79C6;">as</span><span style="color:#F8F8F2;"> np</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">after_init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ContextInfo</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0时,标的现价3.51元,期权价格0.0725元时的隐含波动率</span></span>
<span class="line"><span style="color:#F8F8F2;">    iv</span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;">ContextInfo.bsm_iv(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">C</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3.51</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3.5</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.0725</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">0.03</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">15</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(iv)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1374-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#BD93F9;">0.2299</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--]--></div><h2 id="期权行情数据" tabindex="-1"><a class="header-anchor" href="#期权行情数据" aria-hidden="true">#</a> 期权行情数据</h2><h3 id="获取期权行情数据" tabindex="-1"><a class="header-anchor" href="#获取期权行情数据" aria-hidden="true">#</a> 获取期权行情数据</h3><p>获取期权最新数据，首先需要进行数据订阅。完成合约订阅后，用<code>get_market_data_ex</code>函数即可提取相关信息。这个过程包含两大步骤：第一，通过订阅操作确保能接收到你感兴趣的期权合约的更新；第二，调用<code>get_market_data_ex</code>函数来实际获取并处理这些订阅到的数据,如果需要用到历史数据或过期合约数据，需要使用<code>download_history_data</code>进行下载。这样，使用者就能获得最新和详细的期权数据，有助于做出更精准的投资决策。</p><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1394-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-1394-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#6272A4;"># 下载指定合约历史行情</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.download_history_data(stock_code, period, </span><span style="color:#FFB86C;font-style:italic;">start_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">end_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;"># 订阅指定合约行情</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.subscribe_quote(stock_code, </span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">start_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">end_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">count</span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">callback</span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;">None</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;"># 等待订阅完成</span></span>
<span class="line"><span style="color:#F8F8F2;">time.sleep(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">)  </span></span>
<span class="line"><span style="color:#6272A4;"># 获取指定合约行情</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_market_data_ex(</span><span style="color:#FFB86C;font-style:italic;">field_list</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [], </span><span style="color:#FFB86C;font-style:italic;">stock_list</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [], </span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">start_time</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">end_time</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">count</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">dividend_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">none</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">fill_data</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">True</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><ul><li>xtdata.subscribe_quote</li></ul><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>stock_code</code></td><td><code>str</code></td><td><code>股票代码</code></td></tr><tr><td><code>start_time</code></td><td><code>str</code></td><td><code>开始时间格式YYYYMMDD/YYYYMMDDhhmmss</code></td></tr><tr><td><code>end_time</code></td><td><code>str</code></td><td><code>结束时间</code></td></tr><tr><td><code>count</code></td><td><code>int</code></td><td><code>数量 -1全部/n: 从结束时间向前数n个</code></td></tr><tr><td><code>period</code></td><td><code>str</code></td><td><code>周期 分笔&quot;tick&quot; 分钟线&quot;1m&quot;/&quot;5m&quot; 日线&quot;1d&quot;</code></td></tr></tbody></table><ul><li>xtdata.get_market_data_ex</li></ul><table><thead><tr><th>参数名称</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>field_list</code></td><td><code>list</code></td><td>表示所有字段。不同的数据周期，取值范围有所不同。</td></tr><tr><td><code>stock_list</code></td><td><code>list</code></td><td>合约代码列表</td></tr><tr><td><code>period</code></td><td><code>str</code></td><td>数据周期，默认是当前主图周期。可选值如下： &#39;tick&#39; (分笔线)， &#39;1d&#39; (日线)， &#39;1m&#39; (1分钟线)， &#39;5m&#39; (5分钟线)， &#39;15m&#39; (15分钟线)， &#39;l2quote&#39; (Level2行情快照)， &#39;l2quoteaux&#39; (Level2行情快照补充)， &#39;l2order&#39; (Level2逐笔委托)， &#39;l2transaction&#39; (Level2逐笔成交)，&#39;l2transactioncount&#39; (Level2大单统计)， &#39;l2orderqueue&#39; (Level2委买委卖队列)</td></tr><tr><td><code>start_time</code></td><td><code>str</code></td><td>开始时间。为空时默认为最早时间。时间格式为&#39;20201231&#39;或&#39;20201231093000&#39;</td></tr><tr><td><code>end_time</code></td><td><code>str</code></td><td>结束时间。为空时默认为最新时间。时间格式为&#39;20201231&#39;或&#39;20201231235959&#39;</td></tr><tr><td><code>count</code></td><td><code>int</code></td><td>数据最大个数。-1表示不做个数限制</td></tr><tr><td><code>dividend_type</code></td><td><code>str</code></td><td>复权方式，默认是当前主图复权方式。可选值包括： &#39;none&#39; (不复权)， &#39;front&#39;(前复权)， &#39;back&#39; (后复权)， &#39;front_ratio&#39; (等比前复权)， &#39;back_ratio&#39; (等比后复权)</td></tr><tr><td><code>fill_data</code></td><td><code>bool</code></td><td>停牌填充方式</td></tr></tbody></table><p><strong>返回值</strong></p><ul><li>period为<code>1m</code> <code>5m</code> <code>1d</code>K线周期时 <ul><li>返回dict { field1 : value1, field2 : value2, ... }</li><li>value1, value2, ... ：pd.DataFrame 数据集，index为stock_list，columns为time_list</li><li>各字段对应的DataFrame维度相同、索引相同</li></ul></li><li>period为<code>tick</code>分笔周期时 <ul><li>返回dict { stock1 : value1, stock2 : value2, ... }</li><li>stock1, stock2, ... ：合约代码</li><li>value1, value2, ... ：np.ndarray 数据集，按数据时间戳<code>time</code>增序排列</li></ul></li></ul><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1642-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1642-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1642-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#6272A4;"># 订阅指定合约最新行情</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.subscribe_quote(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005329.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1d</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">start_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">end_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20231026150000</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">count</span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">callback</span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;">None</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#6272A4;"># 下载指定合约历史行情</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.download_history_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005329.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">1d</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># ETF期权</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.download_history_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">a2407-C-5200.DF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">1d</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 商品期货期权</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.download_history_data(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">IO2312-C-3550.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">1d</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 股指期货期权</span></span>
<span class="line"><span style="color:#6272A4;"># 获取指定合约历史行情</span></span>
<span class="line"><span style="color:#F8F8F2;">day_data </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_market_data_ex([], [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005329.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">], </span><span style="color:#FFB86C;font-style:italic;">period</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">1d</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">start_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20230101</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">end_time</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20231026</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">count</span><span style="color:#FF79C6;">=-</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">dividend_type</span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">front</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">fill_data</span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;">True</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(day_data)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1642-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005329.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:                    time   </span><span style="color:#8BE9FD;">open</span><span style="color:#F8F8F2;">   high    low  close  volume     amount  \</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231010</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1696867200000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.216</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.248</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.969</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.980</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">141</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">290131.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231011</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1696953600000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.065</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.152</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.005</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">389</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">801904.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231012</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697040000000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.255</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.309</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.150</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.210</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">141</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">311402.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231013</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697126400000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.053</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.075</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.980</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2.012</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">275</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">560743.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231016</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697385600000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.990</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.990</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.753</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.797</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">539</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">976868.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231017</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697472000000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.818</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.900</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.766</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.866</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">519</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">946258.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231018</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697558400000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.813</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.881</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.744</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.770</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">173</span><span style="color:#F8F8F2;">   </span><span style="color:#BD93F9;">309998.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231019</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697644800000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.632</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.632</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.244</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.244</span><span style="color:#F8F8F2;">    </span><span style="color:#BD93F9;">1398</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1967442.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231020</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697731200000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.158</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.264</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.126</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.185</span><span style="color:#F8F8F2;">    </span><span style="color:#BD93F9;">1580</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1888661.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231023</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1697990400000</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.230</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.241</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">0.980</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">1.057</span><span style="color:#F8F8F2;">    </span><span style="color:#BD93F9;">2397</span><span style="color:#F8F8F2;">  </span><span style="color:#BD93F9;">2597350.0</span><span style="color:#F8F8F2;">   </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">           settelementPrice  openInterest  preClose  suspendFlag  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231010</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.980</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3276</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">2.140</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231011</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">2.030</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3122</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.980</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231012</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">2.210</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3083</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">2.005</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231013</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">2.003</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">2994</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">2.210</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231016</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.797</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3064</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">2.012</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231017</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.859</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">2969</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.797</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231018</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.757</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">2939</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.866</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231019</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.250</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3065</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.770</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231020</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.185</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">3582</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.244</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  </span></span>
<span class="line"><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">20231023</span><span style="color:#F8F8F2;">             </span><span style="color:#BD93F9;">1.057</span><span style="color:#F8F8F2;">          </span><span style="color:#BD93F9;">4191</span><span style="color:#F8F8F2;">     </span><span style="color:#BD93F9;">1.185</span><span style="color:#F8F8F2;">            </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><h3 id="获取过期期权合约代码" tabindex="-1"><a class="header-anchor" href="#获取过期期权合约代码" aria-hidden="true">#</a> 获取过期期权合约代码</h3><div class="custom-container warning"><p class="custom-container-title">注意</p><p>获取过期期权合约代码本质上是通过<code>get_stock_list_in_sector()</code>获取到<code>过期板块</code>内容，所以在使用前，<strong>请务必确保已经下载过历史合约信息</strong></p><ol><li><p>原生python：调用<code>xtdata.download_history_contracts()</code>进行下载</p></li><li><p>内置python：在界面端<code>数据管理 - 过期合约数据 - 过期合约列表</code>勾选下载，下载后需要重启客户端生效</p></li></ol></div><h4 id="内置python" tabindex="-1"><a class="header-anchor" href="#内置python" aria-hidden="true">#</a> 内置python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1676-0" aria-selected="true">内置python</button></div><!--[--><div class="vp-tab active" id="tab-1676-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">C.get_stock_list_in_sector(sector_name)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>sector_name</code></td><td><code>string</code></td><td><code>板块名称</code></td></tr></tbody></table><p><strong>返回值</strong></p><ul><li><code>list</code>：内含成份股代码，代码形式为 &#39;stockcode.market&#39;，如 &#39;000002.SZ&#39;</li></ul><p><strong>示例</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1725-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1725-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1725-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;">#encoding:gbk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> re</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">init</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">C</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(C,</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取中金所当前可交易期权合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(C,</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取上交所已退市可交易期权合约</span></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list3 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(C,</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取 中金所 所有期权（包含历史）合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list1[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list2[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list3[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;"># 可通过C.get_option_detail_data()查看合约具体信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">hanldbar</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">C</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#FF79C6;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">get_option_code</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">C</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">market</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    ToDo:取出指定market的期权合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    Args:</span></span>
<span class="line"><span style="color:#6272A4;">        market: 目标市场，比如中金所填 IF </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    data_type: 返回数据范围，可返回已退市合约，默认仅返回当前</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">        0: 仅当前</span></span>
<span class="line"><span style="color:#6272A4;">        1: 仅历史</span></span>
<span class="line"><span style="color:#6272A4;">        2: 历史 + 当前</span></span>
<span class="line"><span style="color:#6272A4;">    </span></span>
<span class="line"><span style="color:#6272A4;">    &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    _history_sector_dict </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期中金所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期上期所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">DF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期大商所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ZF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期郑商所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">INE</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期能源中心</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期上证期权</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SZO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期深证期权</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _now_secotr_dict = {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;IF&quot;:&quot;中金所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SF&quot;:&quot;上期所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;DF&quot;:&quot;大商所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;ZF&quot;:&quot;郑商所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;INE&quot;:&quot;能源中心&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SHO&quot;:&quot;上证期权&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SZO&quot;:&quot;深证期权&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    _sector </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> _history_sector_dict.get(market)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _now_sector = _now_secotr_dict.get(market)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> _sector </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;不存在该市场:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">market</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    _now_sector </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> _sector[</span><span style="color:#BD93F9;">2</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 过期上证和过期深证有专门的板块，不需要处理</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> market </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">or</span><span style="color:#F8F8F2;"> market </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SZO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_sector) </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;data_type参数错误:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">data_type</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> _list</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 期货期权需要额外处理</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_sector) </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> C.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;data_type参数错误:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">data_type</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">{2}</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">{4}</span><span style="color:#F1FA8C;">-</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#F1FA8C;">-</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">{4}\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern3 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+</span><span style="color:#F1FA8C;">-</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#F1FA8C;">-</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> all_list:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> re.match(pattern1,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> re.match(pattern2,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> re.match(pattern3,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _list =[i for i in all_list if re.match(pattern, i)]</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> _list</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1725-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2100.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2100.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2125.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2125.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2150.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">====================</span></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000001.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000002.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000003.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000004.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000005.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">====================</span></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2325.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2325.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2350.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2350.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2375.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p></div><!--]--></div><h4 id="原生python" tabindex="-1"><a class="header-anchor" href="#原生python" aria-hidden="true">#</a> 原生Python</h4><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1742-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-1742-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_stock_list_in_sector(sector_name)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>sector_name</code></td><td><code>string</code></td><td><code>板块名称</code></td></tr></tbody></table><p><strong>返回值</strong></p><ul><li><code>list</code>：内含成份股代码，代码形式为 &#39;stockcode.market&#39;，如 &#39;000002.SZ&#39;</li></ul><p><strong>示例</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1791-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-1791-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-1791-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> re</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">def</span><span style="color:#F8F8F2;"> </span><span style="color:#50FA7B;">get_option_code</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">market</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    ToDo:取出指定market的期权合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    Args:</span></span>
<span class="line"><span style="color:#6272A4;">        market: 目标市场，比如中金所填 IF </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    data_type: 返回数据范围，可返回已退市合约，默认仅返回当前</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">        0: 仅当前</span></span>
<span class="line"><span style="color:#6272A4;">        1: 仅历史</span></span>
<span class="line"><span style="color:#6272A4;">        2: 历史 + 当前</span></span>
<span class="line"><span style="color:#6272A4;">    </span></span>
<span class="line"><span style="color:#6272A4;">    &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    _history_sector_dict </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期中金所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期上期所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">DF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期大商所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">ZF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期郑商所</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">INE</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期能源中心</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期上证期权</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SZO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">过期深证期权</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _now_secotr_dict = {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;IF&quot;:&quot;中金所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SF&quot;:&quot;上期所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;DF&quot;:&quot;大商所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;ZF&quot;:&quot;郑商所&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;INE&quot;:&quot;能源中心&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SHO&quot;:&quot;上证期权&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;">#     &quot;SZO&quot;:&quot;深证期权&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    _sector </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> _history_sector_dict.get(market)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _now_sector = _now_secotr_dict.get(market)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> _sector </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;不存在该市场:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">market</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    _now_sector </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> _sector[</span><span style="color:#BD93F9;">2</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 过期上证和过期深证有专门的板块，不需要处理</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> market </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">or</span><span style="color:#F8F8F2;"> market </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SZO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_sector) </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;data_type参数错误:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">data_type</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> _list</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># 期货期权需要额外处理</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> data_type </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        all_list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_sector) </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> xtdata.get_stock_list_in_sector(_now_sector)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">raise</span><span style="color:#F8F8F2;"> </span><span style="color:#8BE9FD;font-style:italic;">KeyError</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">f</span><span style="color:#F1FA8C;">&quot;data_type参数错误:</span><span style="color:#BD93F9;">{</span><span style="color:#F8F8F2;">data_type</span><span style="color:#BD93F9;">}</span><span style="color:#F1FA8C;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F8F8F2;">    _list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">{2}</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">{4}</span><span style="color:#F1FA8C;">-</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#F1FA8C;">-</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">{4}\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    pattern3 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">r</span><span style="color:#FF5555;">&#39;</span><span style="color:#8BE9FD;font-style:italic;">^</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+</span><span style="color:#F1FA8C;">-</span><span style="color:#BD93F9;">[a-zA-Z]</span><span style="color:#F1FA8C;">-</span><span style="color:#8BE9FD;font-style:italic;">\d</span><span style="color:#FF79C6;">+\.</span><span style="color:#BD93F9;">[A-Z]</span><span style="color:#FF79C6;">+</span><span style="color:#8BE9FD;font-style:italic;">$</span><span style="color:#FF5555;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> all_list:</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> re.match(pattern1,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> re.match(pattern2,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#FF79C6;">elif</span><span style="color:#F8F8F2;"> re.match(pattern3,i):</span></span>
<span class="line"><span style="color:#F8F8F2;">            _list.append(i)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#6272A4;"># _list =[i for i in all_list if re.match(pattern, i)]</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FF79C6;">return</span><span style="color:#F8F8F2;"> _list</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">if</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">__name__</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">==</span><span style="color:#F8F8F2;"> </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">__main__</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">  xtdata.download_history_contracts() </span><span style="color:#6272A4;"># 下载历史合约信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取中金所当前可交易期权合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">SHO</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取上交所已退市可交易期权合约</span></span>
<span class="line"><span style="color:#F8F8F2;">  option_code_list3 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> get_option_code(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IF</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span><span style="color:#FFB86C;font-style:italic;">data_type</span><span style="color:#F8F8F2;"> </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;"># 获取 中金所 所有期权（包含历史）合约</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list1[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list2[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">=</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(option_code_list3[</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#6272A4;"># 可通过xtdata.get_option_detail_data()查看合约具体信息</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-1791-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2100.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2100.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2125.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2125.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2312-C-2150.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">====================</span></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000001.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000002.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000003.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000004.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10000005.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">====================</span></span>
<span class="line"><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2325.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2325.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2350.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2350.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HO2301-C-2375.IF</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p></div><!--]--></div><h3 id="获取期权全推数据" tabindex="-1"><a class="header-anchor" href="#获取期权全推数据" aria-hidden="true">#</a> 获取期权全推数据</h3><p>获取全推tick数据的函数是用户主动调用的工具。所谓&quot;全推tick数据&quot;，指的是以tick（最小报价单位）为单位的实时市场数据，包括每一笔交易的信息，如成交金额、成交量、收盘价等。通过主动调用这个函数，用户能实时获得最新的市场动态，从而做出及时和准确的投资决策。</p><p><strong>调用方法</strong></p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-1811-0" aria-selected="true">python</button></div><!--[--><div class="vp-tab active" id="tab-1811-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">xtdata.get_full_tick(code_list)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>code_list</code></td><td><code>list</code></td><td><code>合约列表</code></td></tr></tbody></table><ul><li>code_list:合约字符串格式, 例如 [&#39;10005331.SHO&#39;, &#39;10005332.SHO&#39;]</li></ul><p><strong>返回值</strong></p><ul><li>dict 数据集 { stock1 : tick1, stock2 : tick2, ... }, tick字段如下</li></ul><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>timetag</td><td>str</td><td>时间</td></tr><tr><td>lastPrice</td><td>float</td><td>最新价</td></tr><tr><td>open</td><td>float</td><td>开盘价</td></tr><tr><td>low</td><td>float</td><td>最低价</td></tr><tr><td>amount</td><td>float</td><td>成交额</td></tr><tr><td>volume</td><td>int</td><td>成交总量</td></tr><tr><td>pvolume</td><td>int</td><td>原始成交总量</td></tr><tr><td>openInt</td><td>int</td><td>持仓量</td></tr><tr><td>stockStatus</td><td>str</td><td>证券状态</td></tr><tr><td>lastClose</td><td>float</td><td>前收盘价</td></tr><tr><td>lastSettlementPrice</td><td>float</td><td>前结算价</td></tr><tr><td>settlementPrice</td><td>float</td><td>今结算价</td></tr><tr><td>askPrice</td><td>list</td><td>多档委卖价</td></tr><tr><td>bidPrice</td><td>list</td><td>多档委买价</td></tr><tr><td>askVol</td><td>list</td><td>多档委卖量</td></tr><tr><td>bidVol</td><td>list</td><td>多档委买量</td></tr></tbody></table><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-2057-0" aria-selected="true">示例</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-2057-1" aria-selected="false">返回值</button></div><!--[--><div class="vp-tab active" id="tab-2057-0" role="tabpanel" aria-expanded="true"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#6272A4;"># coding=utf-8</span></span>
<span class="line"><span style="color:#FF79C6;">from</span><span style="color:#F8F8F2;"> xtquant </span><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> xtdata</span></span>
<span class="line"><span style="color:#F8F8F2;">ret_full_tick </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> xtdata.get_full_tick([</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005331.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"><span style="color:#8BE9FD;">print</span><span style="color:#F8F8F2;">(ret_full_tick)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="vp-tab" id="tab-2057-1" role="tabpanel" aria-expanded="false"><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dracula" style="background-color:#282A36;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">10005331.SHO</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: {</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">timetag</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">20231026 10:32:56.950</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">lastPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.05470000000000001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">open</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0551</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">high</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.06100000000000001</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">low</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0532</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">lastClose</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0.0568</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">amount</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">2018934.84</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">volume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">3524</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">pvolume</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">3524</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">stockStatus</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">openInt</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">16495</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">settlementPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">lastSettlementPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">askPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: [</span><span style="color:#BD93F9;">0.0548</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0549</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.055</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0551</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.05520000000000001</span><span style="color:#F8F8F2;">], </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">bidPrice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: [</span><span style="color:#BD93F9;">0.05470000000000001</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0546</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0545</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0544</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">0.0543</span><span style="color:#F8F8F2;">], </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">askVol</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: [</span><span style="color:#BD93F9;">25</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">65</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">33</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">30</span><span style="color:#F8F8F2;">], </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">bidVol</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">: [</span><span style="color:#BD93F9;">43</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">23</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">40</span><span style="color:#F8F8F2;">]}}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div></div></div><!--[--><!--]--></div>

<nav class="page-nav" data-v-3c904194><p class="inner"><span class="prev"><a href="../dictionary/future.html" class="" aria-label="期货数据"><!--[--><!--]--> 期货数据 <!--[--><!--]--></a></span><span class="next"><a href="../dictionary/floorfunds.html" class="" aria-label="场内基金"><!--[--><!--]--> 场内基金 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>

  <div class="toFixedCopy wxFixed" style="text-align: center"><a href="https://work.weixin.qq.com/ca/cawcde1dc261ca71f1" target="_blank" rel="noopener noreferrer">联系微信获取权限<br><img src="../assets/联系客户经理.png" alt="微信扫码联系客服" title="点击联系客服" style="width:150px;"></a></div></body>
</html>
